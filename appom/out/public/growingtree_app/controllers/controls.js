// Compiled by ClojureScript 0.0-2277
goog.provide('growingtree_app.controllers.controls');
goog.require('cljs.core');
goog.require('growingtree_app.utils');
goog.require('cljs.core.async');
goog.require('growingtree_app.utils');
goog.require('growingtree_app.utils');
goog.require('growingtree_app.mock_data');
goog.require('growingtree_app.mock_data');
goog.require('cljs.reader');
goog.require('cljs.reader');
goog.require('cljs.core.async');
goog.require('cljs.core.async');
cljs.core.enable_console_print_BANG_.call(null);
growingtree_app.controllers.controls.control_event = (function (){var method_table__4409__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var prefer_table__4410__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var method_cache__4411__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var cached_hierarchy__4412__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var hierarchy__4413__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));return (new cljs.core.MultiFn("control-event",((function (method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__){
return (function (target,msg_type,msg_data,state){return msg_type;
});})(method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4413__auto__,method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__));
})();
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"default","default",-1987822328),(function (target,msg_type,msg_data,state){console.log(cljs.core.pr_str.call(null,"default control-event : conj nav-path ",msg_type,msg_data));
return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav-path","nav-path",-444531376)], null),cljs.core.conj,msg_data);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"all-things","all-things",1825895767),(function (target,msg_type,msg_data,state){var last_nav_type = cljs.core.get_in.call(null,cljs.core.last.call(null,cljs.core.get_in.call(null,state,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav-path","nav-path",-444531376)], null))),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"body","body",-2049205669),(1),(2)], null));var cur_nav_type = cljs.core.get_in.call(null,msg_data,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"body","body",-2049205669),(1),(2)], null));console.log(cljs.core.pr_str.call(null,"all-things event : conj nav-path ",msg_data));
var G__12208 = state;var G__12208__$1 = ((new cljs.core.Keyword(null,"else","else",-1508377146))?growingtree_app.controllers.controls.update_navbar_selected.call(null,G__12208,last_nav_type,cur_nav_type):G__12208);var G__12208__$2 = ((new cljs.core.Keyword(null,"else","else",-1508377146))?cljs.core.update_in.call(null,G__12208__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav-path","nav-path",-444531376)], null),cljs.core.conj,msg_data):G__12208__$1);return G__12208__$2;
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"filter-things","filter-things",-1018039660),(function (target,msg_type,msg_data,state){var last_nav_type = cljs.core.get_in.call(null,cljs.core.last.call(null,cljs.core.get_in.call(null,state,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav-path","nav-path",-444531376)], null))),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"body","body",-2049205669),(1),(2)], null));var cur_nav_type = cljs.core.get_in.call(null,msg_data,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"body","body",-2049205669),(1),(2)], null));console.log(cljs.core.pr_str.call(null,"filter-things : conj nav-path ",msg_data));
var G__12209 = state;var G__12209__$1 = ((new cljs.core.Keyword(null,"else","else",-1508377146))?growingtree_app.controllers.controls.update_navbar_selected.call(null,G__12209,last_nav_type,cur_nav_type):G__12209);var G__12209__$2 = ((new cljs.core.Keyword(null,"else","else",-1508377146))?cljs.core.update_in.call(null,G__12209__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav-path","nav-path",-444531376)], null),cljs.core.conj,msg_data):G__12209__$1);return G__12209__$2;
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"add-thing","add-thing",321362583),(function (target,msg_type,msg_data,state){console.log(cljs.core.pr_str.call(null,"add-thing event : conj nav-path ",msg_data));
return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav-path","nav-path",-444531376)], null),cljs.core.conj,msg_data);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"api-key-updated","api-key-updated",-1848658586),(function (target,msg_type,api_key,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"users","users",-713552705),new cljs.core.Keyword(null,"current-user-email","current-user-email",-1030852599).cljs$core$IFn$_invoke$arity$1(state),new cljs.core.Keyword(null,"api-key","api-key",1037904031)], null),api_key);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"current-user-mentioned","current-user-mentioned",134481480),(function (target,msg_type,p__12210,state){var vec__12211 = p__12210;var activity = cljs.core.nth.call(null,vec__12211,(0),null);var url = cljs.core.nth.call(null,vec__12211,(1),null);return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),new cljs.core.Keyword(null,"channel-id","channel-id",138191095).cljs$core$IFn$_invoke$arity$1(activity),new cljs.core.Keyword(null,"sfx","sfx",-634589668),new cljs.core.Keyword(null,"source-url","source-url",569467631)], null),url);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"user-menu-toggled","user-menu-toggled",-1800346032),(function (target,msg_type,msg_data,state){return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"menus","menus",-1377611675),new cljs.core.Keyword(null,"user-menu","user-menu",-395327477),new cljs.core.Keyword(null,"open","open",-1763596448)], null),cljs.core.not);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"search-form-focused","search-form-focused",-1652397576),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"search","search",1564939822),new cljs.core.Keyword(null,"focused","focused",1851572115)], null),true);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"search-form-blurred","search-form-blurred",1104978531),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"search","search",1564939822),new cljs.core.Keyword(null,"focused","focused",1851572115)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"search-form-updated","search-form-updated",-868859534),(function (target,msg_type,new_value,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"search","search",1564939822),new cljs.core.Keyword(null,"value","value",305978217)], null),new_value);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"user-msg-type-focused","user-msg-type-focused",897271494),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"user-msg-type","user-msg-type",1884615318),new cljs.core.Keyword(null,"focused","focused",1851572115)], null),true);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"user-msg-type-blurred","user-msg-type-blurred",-53788449),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"user-msg-type","user-msg-type",1884615318),new cljs.core.Keyword(null,"focused","focused",1851572115)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"user-msg-type-updated","user-msg-type-updated",-127984657),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"user-msg-type","user-msg-type",1884615318),new cljs.core.Keyword(null,"value","value",305978217)], null),msg_data);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-player-started","audio-player-started",-1739082677),(function (target,msg_type,channel_id,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"player","player",-97687400),new cljs.core.Keyword(null,"state","state",-1988618099)], null),new cljs.core.Keyword(null,"playing","playing",70013335));
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-player-stopped","audio-player-stopped",170014150),(function (target,msg_type,channel_id,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"player","player",-97687400),new cljs.core.Keyword(null,"state","state",-1988618099)], null),new cljs.core.Keyword(null,"stopped","stopped",-1490414640));
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-player-muted","audio-player-muted",-131538835),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"audio","audio",1819127321),new cljs.core.Keyword(null,"muted","muted",1275109029)], null),true);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-player-unmuted","audio-player-unmuted",710141160),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"audio","audio",1819127321),new cljs.core.Keyword(null,"muted","muted",1275109029)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-player-unmuted","audio-player-unmuted",710141160),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"audio","audio",1819127321),new cljs.core.Keyword(null,"muted","muted",1275109029)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-player-source-updated","audio-player-source-updated",-983718025),(function (target,msg_type,p__12212,state){var vec__12213 = p__12212;var src = cljs.core.nth.call(null,vec__12213,(0),null);var channel_id = cljs.core.nth.call(null,vec__12213,(1),null);return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"player","player",-97687400),new cljs.core.Keyword(null,"source-url","source-url",569467631)], null),src);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-player-unmuted","audio-player-unmuted",710141160),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"audio","audio",1819127321),new cljs.core.Keyword(null,"muted","muted",1275109029)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"playlist-entry-queued","playlist-entry-queued",-1071587042),(function (target,msg_type,msg_data,state){var vec__12214 = msg_data;var channel_id = cljs.core.nth.call(null,vec__12214,(0),null);var url = cljs.core.nth.call(null,vec__12214,(1),null);return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"player","player",-97687400),new cljs.core.Keyword(null,"playlist","playlist",1952276871)], null),((function (vec__12214,channel_id,url){
return (function (playlist){return cljs.core.conj.call(null,playlist,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"order","order",-1254677256),(cljs.core.count.call(null,playlist) + (1)),new cljs.core.Keyword(null,"src","src",-1651076051),url], null));
});})(vec__12214,channel_id,url))
);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"playlist-entry-played","playlist-entry-played",1138783655),(function (target,msg_type,p__12215,state){var vec__12216 = p__12215;var order = cljs.core.nth.call(null,vec__12216,(0),null);var channel_id = cljs.core.nth.call(null,vec__12216,(1),null);return cljs.core.assoc_in.call(null,cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"player","player",-97687400),new cljs.core.Keyword(null,"playing-order","playing-order",-1040974713)], null),order),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"player","player",-97687400),new cljs.core.Keyword(null,"loading","loading",-737050189)], null),true);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"user-msg-type-submitted","user-msg-type-submitted",1017951497),(function (target,msg_type,msg_data,state){if(cljs.core.empty_QMARK_.call(null,cljs.core.get_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"user-msg-type","user-msg-type",1884615318),new cljs.core.Keyword(null,"value","value",305978217)], null))))
{return state;
} else
{var content = cljs.core.get_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"user-msg-type","user-msg-type",1884615318),new cljs.core.Keyword(null,"value","value",305978217)], null));var user = cljs.core.get_in.call(null,state,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"users","users",-713552705),new cljs.core.Keyword(null,"current-user-email","current-user-email",-1030852599).cljs$core$IFn$_invoke$arity$1(state)], null));var channel = cljs.core.get_in.call(null,state,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),new cljs.core.Keyword(null,"selected-channel","selected-channel",-366010130).cljs$core$IFn$_invoke$arity$1(state)], null));var activity = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"content","content",15833224),content,new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(user),new cljs.core.Keyword(null,"created_at","created_at",1484050750),(new Date())], null);return cljs.core.update_in.call(null,cljs.core.update_in.call(null,cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"forms","forms",2045992350),new cljs.core.Keyword(null,"user-msg-type","user-msg-type",1884615318),new cljs.core.Keyword(null,"value","value",305978217)], null),null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(channel),new cljs.core.Keyword(null,"activities","activities",1654844313)], null),cljs.core.comp.call(null,cljs.core.partial.call(null,cljs.core.sort_by,new cljs.core.Keyword(null,"created_at","created_at",1484050750)),cljs.core.conj),activity),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(channel),new cljs.core.Keyword(null,"activities","activities",1654844313)], null),cljs.core.vec);
}
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"settings-opened","settings-opened",1153146657),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"menus","menus",-1377611675),new cljs.core.Keyword(null,"user-menu","user-menu",-395327477),new cljs.core.Keyword(null,"open","open",-1763596448)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"help-opened","help-opened",-1936034706),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"menus","menus",-1377611675),new cljs.core.Keyword(null,"user-menu","user-menu",-395327477),new cljs.core.Keyword(null,"open","open",-1763596448)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"about-opened","about-opened",1534685245),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"menus","menus",-1377611675),new cljs.core.Keyword(null,"user-menu","user-menu",-395327477),new cljs.core.Keyword(null,"open","open",-1763596448)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"user-logged-out","user-logged-out",-1569726039),(function (target,msg_type,msg_data,state){return cljs.core.assoc_in.call(null,cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"menus","menus",-1377611675),new cljs.core.Keyword(null,"user-menu","user-menu",-395327477),new cljs.core.Keyword(null,"open","open",-1763596448)], null),false),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"current-user-email","current-user-email",-1030852599)], null),null);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"audio-source-loaded","audio-source-loaded",-84261367),(function (target,msg_type,channel_id,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"player","player",-97687400),new cljs.core.Keyword(null,"loading","loading",-737050189)], null),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"channel-destroyed","channel-destroyed",-199507832),(function (target,msg_type,channel_id,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"channels","channels",1132759174),channel_id,new cljs.core.Keyword(null,"loading","loading",-737050189)], null),true);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"right-sidebar-toggled","right-sidebar-toggled",925883782),(function (target,msg_type,channel_id,state){return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"sidebar","sidebar",35784458),new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.Keyword(null,"open","open",-1763596448)], null),cljs.core.not);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"left-sidebar-toggled","left-sidebar-toggled",888056217),(function (target,msg_type,channel_id,state){return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"sidebar","sidebar",35784458),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.Keyword(null,"open","open",-1763596448)], null),cljs.core.not);
}));
growingtree_app.controllers.controls.window_drag_event = (function (){var method_table__4409__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var prefer_table__4410__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var method_cache__4411__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var cached_hierarchy__4412__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var hierarchy__4413__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));return (new cljs.core.MultiFn("window-drag-event",((function (method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__){
return (function (msg_type,msg_data,state){return msg_type;
});})(method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4413__auto__,method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__));
})();
cljs.core._add_method.call(null,growingtree_app.controllers.controls.window_drag_event,new cljs.core.Keyword(null,"grabbed","grabbed",-1247636222),(function (msg_type,initial_mouse_pos,window_state){var vec__12217 = initial_mouse_pos;var mx = cljs.core.nth.call(null,vec__12217,(0),null);var my = cljs.core.nth.call(null,vec__12217,(1),null);var vec__12218 = new cljs.core.Keyword(null,"position","position",-2011731912).cljs$core$IFn$_invoke$arity$1(window_state);var px = cljs.core.nth.call(null,vec__12218,(0),null);var py = cljs.core.nth.call(null,vec__12218,(1),null);var offset = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(mx - px),(my - py)], null);return cljs.core.assoc.call(null,window_state,new cljs.core.Keyword(null,"dragging?","dragging?",-995941410),true,new cljs.core.Keyword(null,"offset","offset",296498311),offset);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.window_drag_event,new cljs.core.Keyword(null,"released","released",381037203),(function (msg_type,data,window_state){return cljs.core.assoc.call(null,window_state,new cljs.core.Keyword(null,"dragging?","dragging?",-995941410),false);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.window_drag_event,new cljs.core.Keyword(null,"mouse-moved","mouse-moved",-1918152310),(function (msg_type,mouse_position,window_state){if(cljs.core.truth_(new cljs.core.Keyword(null,"dragging?","dragging?",-995941410).cljs$core$IFn$_invoke$arity$1(window_state)))
{var vec__12219 = mouse_position;var mx = cljs.core.nth.call(null,vec__12219,(0),null);var my = cljs.core.nth.call(null,vec__12219,(1),null);var vec__12220 = new cljs.core.Keyword(null,"offset","offset",296498311).cljs$core$IFn$_invoke$arity$1(window_state);var off_x = cljs.core.nth.call(null,vec__12220,(0),null);var off_y = cljs.core.nth.call(null,vec__12220,(1),null);var vec__12221 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(mx - off_x),(my - off_y)], null);var tnx = cljs.core.nth.call(null,vec__12221,(0),null);var tny = cljs.core.nth.call(null,vec__12221,(1),null);var min_x = (-150);var max_x = (document.body.clientWidth - (50));var min_y = (0);var max_y = (document.body.clientHeight - (50));var new_position = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(((min_x > tnx))?min_x:(((tnx > max_x))?max_x:((new cljs.core.Keyword(null,"else","else",-1508377146))?tnx:null))),(((min_y > tny))?min_y:(((tny > max_y))?max_y:((new cljs.core.Keyword(null,"else","else",-1508377146))?tny:null)))], null);return cljs.core.assoc.call(null,window_state,new cljs.core.Keyword(null,"position","position",-2011731912),new_position);
} else
{return window_state;
}
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"draggable","draggable",1676206163),(function (target,msg_type,p__12223,state){var vec__12224 = p__12223;var sub_msg_type = cljs.core.nth.call(null,vec__12224,(0),null);var map__12225 = cljs.core.nth.call(null,vec__12224,(1),null);var map__12225__$1 = ((cljs.core.seq_QMARK_.call(null,map__12225))?cljs.core.apply.call(null,cljs.core.hash_map,map__12225):map__12225);var msg_data = map__12225__$1;var name = cljs.core.get.call(null,map__12225__$1,new cljs.core.Keyword(null,"name","name",1843675177));return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"windows","windows",2068861701),name], null),((function (vec__12224,sub_msg_type,map__12225,map__12225__$1,msg_data,name){
return (function (p1__12222_SHARP_){return growingtree_app.controllers.controls.window_drag_event.call(null,sub_msg_type,new cljs.core.Keyword(null,"position","position",-2011731912).cljs$core$IFn$_invoke$arity$1(msg_data),p1__12222_SHARP_);
});})(vec__12224,sub_msg_type,map__12225,map__12225__$1,msg_data,name))
);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"toggle-inspector-key-pressed","toggle-inspector-key-pressed",1257821948),(function (target,msg_type,msg_data,state){return cljs.core.update_in.call(null,state,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"windows","windows",2068861701),new cljs.core.Keyword(null,"window-inspector","window-inspector",889258900),new cljs.core.Keyword(null,"open","open",-1763596448)], null),cljs.core.not);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"inspector-path-updated","inspector-path-updated",-165750316),(function (target,msg_type,path,state){return cljs.core.assoc_in.call(null,state,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"settings","settings",1556144875),new cljs.core.Keyword(null,"inspector","inspector",1532863880),new cljs.core.Keyword(null,"path","path",-188191168)], null),path);
}));
cljs.core._add_method.call(null,growingtree_app.controllers.controls.control_event,new cljs.core.Keyword(null,"state-restored","state-restored",450621293),(function (target,msg_type,path,state){var str_data = localStorage.getItem("growingtree-app-state");if(cljs.core.seq.call(null,str_data))
{return cljs.core.assoc.call(null,cljs.reader.read_string.call(null,str_data),new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"comms","comms",460172477).cljs$core$IFn$_invoke$arity$1(state));
} else
{return state;
}
}));
growingtree_app.controllers.controls.update_navbar_selected = (function update_navbar_selected(state,last_nav_type,cur_nav_type){console.log(cljs.core.pr_str.call(null,"update-navbar-selected : state things ",last_nav_type,cur_nav_type,new cljs.core.Keyword(null,"things","things",1255021880).cljs$core$IFn$_invoke$arity$1(state)));
var last_nav_type__$1 = cljs.core.some.call(null,cljs.core.PersistentHashSet.fromArray([last_nav_type], true),growingtree_app.mock_data.nav_types);var cur_nav_type__$1 = cljs.core.some.call(null,cljs.core.PersistentHashSet.fromArray([cur_nav_type], true),growingtree_app.mock_data.nav_types);console.log(cljs.core.pr_str.call(null,"update-navbar-selected cur-nav-type ",cur_nav_type__$1," last ",last_nav_type__$1));
var G__12227 = state;var G__12227__$1 = (cljs.core.truth_(last_nav_type__$1)?cljs.core.assoc_in.call(null,G__12227,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"things","things",1255021880),last_nav_type__$1,new cljs.core.Keyword(null,"selected","selected",574897764)], null),false):G__12227);var G__12227__$2 = (cljs.core.truth_(cur_nav_type__$1)?cljs.core.assoc_in.call(null,G__12227__$1,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"things","things",1255021880),cur_nav_type__$1,new cljs.core.Keyword(null,"selected","selected",574897764)], null),true):G__12227__$1);return G__12227__$2;
});

//# sourceMappingURL=controls.js.map