// Compiled by ClojureScript 0.0-2277
goog.provide('growingtree_app.components.login');
goog.require('cljs.core');
goog.require('cljs.core.async');
goog.require('sablono.core');
goog.require('cljs.core.async');
goog.require('growingtree_app.routes');
goog.require('dommy.core');
goog.require('cljs.core.async');
goog.require('growingtree_app.mock_data');
goog.require('sablono.core');
goog.require('growingtree_app.utils');
goog.require('om.core');
goog.require('dommy.core');
goog.require('growingtree_app.mock_data');
goog.require('om.core');
goog.require('growingtree_app.routes');
goog.require('growingtree_app.utils');
growingtree_app.components.login.submit_form_fn = (function submit_form_fn(app,form_name,base_data,fields){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));return ((function (comm){
return (function (_){var $form = document.querySelector(dommy.core.selector.call(null,("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(form_name))));var data = cljs.core.reduce.call(null,((function ($form,comm){
return (function (tot,p__11708){var vec__11709 = p__11708;var attr = cljs.core.nth.call(null,vec__11709,(0),null);var fieldid = cljs.core.nth.call(null,vec__11709,(1),null);console.log(cljs.core.pr_str.call(null,fieldid,dommy.core.value.call(null,document.querySelector(dommy.core.selector.call(null,fieldid)))));
return cljs.core.assoc.call(null,tot,attr,dommy.core.value.call(null,document.querySelector(dommy.core.selector.call(null,fieldid))));
});})($form,comm))
,cljs.core.PersistentArrayMap.EMPTY,fields);var form_data = growingtree_app.utils.set_time.call(null,growingtree_app.utils.set_time.call(null,cljs.core.merge.call(null,base_data,data),new cljs.core.Keyword(null,"assignment","assignment",1330426519),"end"),new cljs.core.Keyword(null,"activity","activity",-1179221455),"start");dommy.core.toggle_class_BANG_.call(null,$form,"hide");
console.log(cljs.core.pr_str.call(null,form_name," data ",form_data));
return cljs.core.async.put_BANG_.call(null,comm,growingtree_app.mock_data.get_login_msg.call(null,form_name,form_data));
});
;})(comm))
});
growingtree_app.components.login.login = (function login(app,owner,opts){if(typeof growingtree_app.components.login.t11713 !== 'undefined')
{} else
{
/**
* @constructor
*/
growingtree_app.components.login.t11713 = (function (opts,owner,app,login,meta11714){
this.opts = opts;
this.owner = owner;
this.app = app;
this.login = login;
this.meta11714 = meta11714;
this.cljs$lang$protocol_mask$partition1$ = 0;
this.cljs$lang$protocol_mask$partition0$ = 393216;
})
growingtree_app.components.login.t11713.cljs$lang$type = true;
growingtree_app.components.login.t11713.cljs$lang$ctorStr = "growingtree-app.components.login/t11713";
growingtree_app.components.login.t11713.cljs$lang$ctorPrWriter = (function (this__4110__auto__,writer__4111__auto__,opt__4112__auto__){return cljs.core._write.call(null,writer__4111__auto__,"growingtree-app.components.login/t11713");
});
growingtree_app.components.login.t11713.prototype.om$core$IRender$ = true;
growingtree_app.components.login.t11713.prototype.om$core$IRender$render$arity$1 = (function (this$){var self__ = this;
var this$__$1 = this;return sablono.interpreter.interpret.call(null,(function (){var comm = cljs.core.get_in.call(null,self__.opts,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var settings = new cljs.core.Keyword(null,"settings","settings",1556144875).cljs$core$IFn$_invoke$arity$1(self__.app);var login_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("login","name","login/name",1610723240),("#login-name"),new cljs.core.Keyword("login","password","login/password",464605936),("#login-password")], null);return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.center.span5","div.center.span5",278725029),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form#login-form.login-name","form#login-form.login-name",-2072313144),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"action","action",-811238024),"",new cljs.core.Keyword(null,"method","method",55703592),"post"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),"Welcome to ",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.app-name","span.app-name",2131244200),"GrowingTree"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset","fieldset",-1949770816),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.lable","label.lable",1019019113),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"for","for",-1323786319),"login-name"], null),"Username or Email"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.login-name","input.login-name",2002697895),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),"login-name",new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"user name or email"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-password","fieldset.fieldset-password",-341517383),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.lable","label.lable",1019019113),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"for","for",-1323786319),"login-password"], null),"Password"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.login-password","input.login-password",-2126766965),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),"login-password",new cljs.core.Keyword(null,"type","type",1174270348),"password",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Password"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-rememberMe.fieldset-checkbox","fieldset.fieldset-rememberMe.fieldset-checkbox",-234814200),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.lable","label.lable",1019019113),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"for","for",-1323786319),"rememberMe-input"], null),"Remember Me"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.remembrMe-input","input.remembrMe-input",1709596195),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),"rememberMe-input",new cljs.core.Keyword(null,"type","type",1174270348),"checkbox",new cljs.core.Keyword(null,"name","name",1843675177),"remember",new cljs.core.Keyword(null,"value:","value:",-1810219570),"1"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-block","button.btn.btn-primary.btn-block",788068819),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),"login-button",new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.login.submit_form_fn.call(null,self__.app,"login-form",cljs.core.PersistentArrayMap.EMPTY,login_form_fields)], null),"Sign In"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p#signup-link","p#signup-link",-1208571646),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),"Create an account ?"], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form#signup-form.signup-form.hide","form#signup-form.signup-form.hide",1148070528),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"action","action",-811238024),"",new cljs.core.Keyword(null,"method","method",55703592),"post"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),"Create an Account",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.app-name","span.app-name",2131244200),"GrowingTree"], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-accountType","fieldset.fieldset-accountType",-1688787047),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"legend","legend",-1027192245),"Account Type"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),"What account type do you want to create ?"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-ratio","fieldset.fieldset-ratio",-695026071),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.parent-type","label.parent-type",1693639965),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"for","for",-1323786319),"parent-type"], null),"Parent"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input#parent-type","input#parent-type",-1170489476),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"name","name",1843675177),"signup-role",new cljs.core.Keyword(null,"type","type",1174270348),"radio",new cljs.core.Keyword(null,"value","value",305978217),"parent",new cljs.core.Keyword(null,"checked","checked",-50955819),""], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-ratio","fieldset.fieldset-ratio",-695026071),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.child-type","label.child-type",-430280155),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"for","for",-1323786319),"child-type"], null),"Child"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input#child-type","input#child-type",143292508),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"name","name",1843675177),"signup-role",new cljs.core.Keyword(null,"type","type",1174270348),"radio",new cljs.core.Keyword(null,"value","value",305978217),"child",new cljs.core.Keyword(null,"checked","checked",-50955819),""], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-ratio","fieldset.fieldset-ratio",-695026071),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.teacher-type","label.teacher-type",-1606791174),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"for","for",-1323786319),"teacher-type"], null),"teacher"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input#teacher-type","input#teacher-type",-1219378710),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"name","name",1843675177),"signup-role",new cljs.core.Keyword(null,"type","type",1174270348),"radio",new cljs.core.Keyword(null,"value","value",305978217),"teacher",new cljs.core.Keyword(null,"checked","checked",-50955819),""], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset","fieldset",-1949770816),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.signup-name","input.signup-name",-1685766361),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),"signup-name",new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"user name"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset","fieldset",-1949770816),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.signup-email","input.signup-email",1910480960),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),"signup-email",new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"email"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-password","fieldset.fieldset-password",-341517383),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.signup-password","input.signup-password",-1648975536),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"signup-password",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Password"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset.fieldset-password","fieldset.fieldset-password",-341517383),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.signup-password-rep","input.signup-password-rep",-484841204),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"signup-password-rep",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Repeat Password"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-block","button.btn.btn-primary.btn-block",788068819),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),"signup-button",new cljs.core.Keyword(null,"type","type",1174270348),"submit",new cljs.core.Keyword(null,"name","name",1843675177),"submit",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.login.submit_form_fn], null),"Sign Up"], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-center.center","p.text-center.center",-990587820),"Copyright 2014 - 2015, GrowingTree Inc."], null)], null);
})());
});
growingtree_app.components.login.t11713.prototype.om$core$IDisplayName$ = true;
growingtree_app.components.login.t11713.prototype.om$core$IDisplayName$display_name$arity$1 = (function (_){var self__ = this;
var ___$1 = this;var or__3543__auto__ = new cljs.core.Keyword(null,"react-name","react-name",-834049397).cljs$core$IFn$_invoke$arity$1(self__.opts);if(cljs.core.truth_(or__3543__auto__))
{return or__3543__auto__;
} else
{return "login";
}
});
growingtree_app.components.login.t11713.prototype.cljs$core$IMeta$_meta$arity$1 = (function (_11715){var self__ = this;
var _11715__$1 = this;return self__.meta11714;
});
growingtree_app.components.login.t11713.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (_11715,meta11714__$1){var self__ = this;
var _11715__$1 = this;return (new growingtree_app.components.login.t11713(self__.opts,self__.owner,self__.app,self__.login,meta11714__$1));
});
growingtree_app.components.login.__GT_t11713 = (function __GT_t11713(opts__$1,owner__$1,app__$1,login__$1,meta11714){return (new growingtree_app.components.login.t11713(opts__$1,owner__$1,app__$1,login__$1,meta11714));
});
}
return (new growingtree_app.components.login.t11713(opts,owner,app,login,null));
});

//# sourceMappingURL=login.js.map