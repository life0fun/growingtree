// Compiled by ClojureScript 0.0-2173
goog.provide('growingtree_app.components.entity_view');
goog.require('cljs.core');
goog.require('growingtree_app.utils');
goog.require('cljs.core.async');
goog.require('goog.i18n.NumberFormat.Format');
goog.require('sablono.core');
goog.require('cljs.core.async');
goog.require('sablono.core');
goog.require('goog.crypt');
goog.require('cljs.reader');
goog.require('goog.net.EventType');
goog.require('om.core');
goog.require('goog.i18n.NumberFormat.Format');
goog.require('clojure.string');
goog.require('goog.events');
goog.require('om.core');
goog.require('clojure.string');
goog.require('growingtree_app.utils');
goog.require('goog.crypt.Md5');
goog.require('growingtree_app.utils');
goog.require('cljs.reader');
goog.require('dommy.core');
goog.require('cljs.core.async');
goog.require('goog.crypt');
goog.require('goog.net.EventType');
goog.require('goog.events');
goog.require('goog.Uri');
goog.require('dommy.core');
growingtree_app.components.entity_view.thing_nav_actionkey = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"group","group",1112533489),new cljs.core.Keyword(null,"timeline","timeline",3232221107),new cljs.core.Keyword(null,"parent","parent",4313447452),new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"answer","answer",3896062768),new cljs.core.Keyword(null,"child","child",1108535438),new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"comments","comments",4706455910),new cljs.core.Keyword(null,"course","course",3954299789),new cljs.core.Keyword(null,"lecture","lecture",1066598640)],[cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"share","share",1123304273),new cljs.core.Keyword(null,"author","author",3902543101),new cljs.core.Keyword(null,"activity","activity",3652904577),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"add-activity","add-activity",1779963437),new cljs.core.Keyword(null,"join-group","join-group",1433916302),new cljs.core.Keyword(null,"upvote","upvote",4470574967),new cljs.core.Keyword(null,"group-members","group-members",772843325),new cljs.core.Keyword(null,"comments","comments",4706455910)],["","","","",""," hide","","","",""]),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"origin","origin",4300251800),"",new cljs.core.Keyword(null,"details","details",2571625908),"",new cljs.core.Keyword(null,"title","title",1124275658),"",new cljs.core.Keyword(null,"author","author",3902543101),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"group","group",1112533489),new cljs.core.Keyword(null,"timeline","timeline",3232221107),new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"follow","follow",4039913251),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"child","child",1108535438),new cljs.core.Keyword(null,"add-group","add-group",4209818053),new cljs.core.Keyword(null,"upvote","upvote",4470574967),new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"add-child","add-child",4205820002)],["","","","","",""," hide","","",""]),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"origin","origin",4300251800),"",new cljs.core.Keyword(null,"upvote","upvote",4470574967),"",new cljs.core.Keyword(null,"title","title",1124275658),"",new cljs.core.Keyword(null,"author","author",3902543101),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"assignto","assignto",644023068),new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"share","share",1123304273),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"similar","similar",3107572061),new cljs.core.Keyword(null,"upvote","upvote",4470574967),new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"comments","comments",4706455910),new cljs.core.Keyword(null,"lecture","lecture",1066598640)],["","","","","","","","",""]),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"title","title",1124275658),"",new cljs.core.Keyword(null,"author","author",3902543101),"",new cljs.core.Keyword(null,"grade","grade",1112519497),"",new cljs.core.Keyword(null,"assignment","assignment",2040166975),"",new cljs.core.Keyword(null,"comments","comments",4706455910),"",new cljs.core.Keyword(null,"upvote","upvote",4470574967),"",new cljs.core.Keyword(null,"like","like",1017225993),"",new cljs.core.Keyword(null,"share","share",1123304273),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"group","group",1112533489),new cljs.core.Keyword(null,"timeline","timeline",3232221107),new cljs.core.Keyword(null,"parent","parent",4313447452),new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"activity","activity",3652904577),new cljs.core.Keyword(null,"follow","follow",4039913251),new cljs.core.Keyword(null,"add-schoolclass","add-schoolclass",1475668682),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"add-parent","add-parent",1545021128),new cljs.core.Keyword(null,"schoolclass","schoolclass",2345028086),new cljs.core.Keyword(null,"enrollment","enrollment",1129993846),new cljs.core.Keyword(null,"upvote","upvote",4470574967),new cljs.core.Keyword(null,"assignment","assignment",2040166975)],["","","","","",""," hide",""," hide","","","",""]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"submit-answer","submit-answer",3265892997),new cljs.core.Keyword(null,"share","share",1123304273),new cljs.core.Keyword(null,"author","author",3902543101),new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"answer","answer",3896062768),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"similar","similar",3107572061),new cljs.core.Keyword(null,"hint","hint",1017106937),new cljs.core.Keyword(null,"upvote","upvote",4470574967),new cljs.core.Keyword(null,"comments","comments",4706455910)],["","","","","","","","","","",""]),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"author","author",3902543101),"",new cljs.core.Keyword(null,"reply","reply",1122305628),"",new cljs.core.Keyword(null,"reply-form","reply-form",4713107769),"",new cljs.core.Keyword(null,"upvote","upvote",4470574967),"",new cljs.core.Keyword(null,"like","like",1017225993),"",new cljs.core.Keyword(null,"share","share",1123304273),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"share","share",1123304273),new cljs.core.Keyword(null,"author","author",3902543101),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"enrollment","enrollment",1129993846),new cljs.core.Keyword(null,"add-lecture","add-lecture",1144728516),new cljs.core.Keyword(null,"upvote","upvote",4470574967),new cljs.core.Keyword(null,"comments","comments",4706455910),new cljs.core.Keyword(null,"enroll","enroll",4010542104),new cljs.core.Keyword(null,"lecture","lecture",1066598640)],["","","","",""," hide","","","",""]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"add-question","add-question",2270060292),new cljs.core.Keyword(null,"share","share",1123304273),new cljs.core.Keyword(null,"author","author",3902543101),new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"upvote","upvote",4470574967),new cljs.core.Keyword(null,"comments","comments",4706455910),new cljs.core.Keyword(null,"course","course",3954299789)],[""," hide","","","","","","",""])]);
growingtree_app.components.entity_view.thing_thumbnail = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"group","group",1112533489),new cljs.core.Keyword(null,"timeline","timeline",3232221107),new cljs.core.Keyword(null,"parent","parent",4313447452),new cljs.core.Keyword(null,"like","like",1017225993),new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"answer","answer",3896062768),new cljs.core.Keyword(null,"child","child",1108535438),new cljs.core.Keyword(null,"enrollment","enrollment",1129993846),new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"comments","comments",4706455910),new cljs.core.Keyword(null,"course","course",3954299789),new cljs.core.Keyword(null,"lecture","lecture",1066598640)],["group.jpg","timeline.jpg","parent.jpg","like.jpg","question.jpg","answer.jpg","child.jpg","enrollment.png","homework.jpg","comments.jpg","course.jpg","lecture.jpg"]);
growingtree_app.components.entity_view.thing_attr_val = (function thing_attr_val(thing_map,thing_type,attr){if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"parent","parent",4313447452),thing_type))
{return cljs.core.keyword.call(null,[cljs.core.str("person/"),cljs.core.str(attr)].join('')).call(null,thing_map);
} else
{if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"child","child",1108535438),thing_type))
{return cljs.core.keyword.call(null,[cljs.core.str("person/"),cljs.core.str(attr)].join('')).call(null,thing_map);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return cljs.core.keyword.call(null,[cljs.core.str(cljs.core.name.call(null,thing_type)),cljs.core.str("/"),cljs.core.str(attr)].join('')).call(null,thing_map);
} else
{return null;
}
}
}
});
/**
* ret the class selector for thing nav sublink transkey
*/
growingtree_app.components.entity_view.actionkey_class = (function actionkey_class(thing_id,link_key,hide){var k = cljs.core.keyword.call(null,[cljs.core.str(cljs.core.name.call(null,link_key)),cljs.core.str("-class")].join(''));var clz = [cljs.core.str(cljs.core.name.call(null,link_key)),cljs.core.str("-"),cljs.core.str(thing_id),cljs.core.str(" "),cljs.core.str(hide)].join('');return cljs.core.PersistentHashMap.fromArrays.call(null,[k],[clz]);
});
growingtree_app.components.entity_view.actionkeys_class = (function actionkeys_class(thing_id,actionkeys){return cljs.core.reduce.call(null,(function (tot,p__11342){var vec__11343 = p__11342;var attr_key = cljs.core.nth.call(null,vec__11343,0,null);var hide = cljs.core.nth.call(null,vec__11343,1,null);return cljs.core.merge.call(null,tot,growingtree_app.components.entity_view.actionkey_class.call(null,thing_id,attr_key,hide));
}),cljs.core.PersistentArrayMap.EMPTY,actionkeys);
});
/**
* ret thing value map from datomic entity by striping out attr's namespace
*/
growingtree_app.components.entity_view.thing_value = (function thing_value(entity){var id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var thing_data = cljs.core.dissoc.call(null,entity,new cljs.core.Keyword("db","id","db/id",1014111942));var attrs = cljs.core.keys.call(null,thing_data);var value_map = cljs.core.reduce.call(null,((function (id,thing_data,attrs){
return (function (tot,p__11346){var vec__11347 = p__11346;var k = cljs.core.nth.call(null,vec__11347,0,null);var v = cljs.core.nth.call(null,vec__11347,1,null);return cljs.core.assoc.call(null,tot,cljs.core.keyword.call(null,cljs.core.name.call(null,k)),((growingtree_app.utils.many_QMARK_.call(null,v))?clojure.string.join.call(null,", ",v):v));
});})(id,thing_data,attrs))
,cljs.core.PersistentArrayMap.EMPTY,thing_data);return cljs.core.assoc.call(null,value_map,new cljs.core.Keyword(null,"id","id",1013907597),id);
});
growingtree_app.components.entity_view.filter_things_onclick = (function filter_things_onclick(app,entity,title_type,filtered_type){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);return (function (_){om.core.update_BANG_.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"top","top",1014019271)], null),entity);
return cljs.core.async.put_BANG_.call(null,comm,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"filter-things","filter-things",3353236652),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"body","body",1016933652),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"filter-things","filter-things",3353236652),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [title_type,thing_id,filtered_type], null)], null),new cljs.core.Keyword(null,"data","data",1016980252),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"pid","pid",1014015229),thing_id], null)], null)], null));
});
});
growingtree_app.components.entity_view.submit_form_fn = (function submit_form_fn(app,add_thing_type,form_name,base_data,fields){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));return (function (_){var $form = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,form_name)));var data = cljs.core.reduce.call(null,((function ($form){
return (function (tot,p__11350){var vec__11351 = p__11350;var attr = cljs.core.nth.call(null,vec__11351,0,null);var fieldid = cljs.core.nth.call(null,vec__11351,1,null);return cljs.core.assoc.call(null,tot,attr,dommy.core.value.call(null,document.querySelector(dommy.core.selector.call(null,fieldid))));
});})($form))
,cljs.core.PersistentArrayMap.EMPTY,fields);var form_data = growingtree_app.utils.set_time.call(null,cljs.core.merge.call(null,base_data,data),new cljs.core.Keyword(null,"assignment","assignment",2040166975),"end");dommy.core.toggle_class_BANG_.call(null,$form,"hide");
console.log(cljs.core.pr_str.call(null,form_name," data ",form_data));
return cljs.core.async.put_BANG_.call(null,comm,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"add-thing","add-thing",4221519924),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"add-thing","add-thing",4221519924),add_thing_type,new cljs.core.Keyword(null,"details","details",2571625908),form_data], null)], null));
});
});
growingtree_app.components.entity_view.thing_entry = (function (){var method_table__4301__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var prefer_table__4302__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var method_cache__4303__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var cached_hierarchy__4304__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var hierarchy__4305__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",3129050535),cljs.core.get_global_hierarchy.call(null));return (new cljs.core.MultiFn("thing-entry",(function (app,thing_type,entity,override){return thing_type;
}),new cljs.core.Keyword(null,"default","default",2558708147),hierarchy__4305__auto__,method_table__4301__auto__,prefer_table__4302__auto__,method_cache__4303__auto__,cached_hierarchy__4304__auto__));
})();
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"default","default",2558708147),(function (app,thing_type,entity,override){var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys));return console.log([cljs.core.str("thing-entry :default "),cljs.core.str(value_map)].join(''));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"person","person",4317155015),(function (app,thing_type,entity,override){var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var thing_type__$1 = new cljs.core.Keyword("person","type","person/type",2862995478).cljs$core$IFn$_invoke$arity$1(entity);return growingtree_app.components.entity_view.thing_entry.call(null,app,thing_type__$1,entity,override);
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"parent","parent",4313447452),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var add_child = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"body","body",1016933652),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"newthing-form","newthing-form",3991642965),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"parent","parent",4313447452),new cljs.core.Keyword(null,"add-child","add-child",4205820002)], null)], null),new cljs.core.Keyword(null,"data","data",1016980252),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"pid","pid",1014015229),thing_id], null)], null);return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.Keyword(null,"title","title",1124275658).cljs$core$IFn$_invoke$arity$1(value_map)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("phone: "),cljs.core.str(new cljs.core.Keyword(null,"phone","phone",1120547040).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("email: "),cljs.core.str(new cljs.core.Keyword(null,"email","email",1110523662).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"Joined since ",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"time","time",1017464383),"Aug 2013"], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"child-class","child-class",2921685241).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",4313447452),new cljs.core.Keyword(null,"child","child",1108535438))], null),"children"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"add-child-class","add-child-class",2052325837).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){om.core.update_BANG_.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"title","title",1124275658)], null),entity);
return cljs.core.async.put_BANG_.call(null,comm,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"newthing-form","newthing-form",3991642965),add_child], null));
})], null),"add child"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"assignment-class","assignment-class",3744147946).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",1108535438),new cljs.core.Keyword(null,"assignment","assignment",2040166975))], null),"assignments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"like-class","like-class",3084849972).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"likes"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"follow-class","follow-class",1817355214).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"followers"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"group-class","group-class",669420572).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"groups"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"add-group-class","add-group-class",4095028464).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"join group"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"timeline-class","timeline-class",547197022).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"timeline"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),new cljs.core.Keyword(null,"child-form-id","child-form-id",3204264581).cljs$core$IFn$_invoke$arity$1([cljs.core.str("child-form-"),cljs.core.str(thing_id)].join(''))], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"child","child",1108535438),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.Keyword(null,"title","title",1124275658).cljs$core$IFn$_invoke$arity$1(value_map)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("phone: "),cljs.core.str(new cljs.core.Keyword(null,"phone","phone",1120547040).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("email: "),cljs.core.str(new cljs.core.Keyword(null,"email","email",1110523662).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"Joined since ",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"time","time",1017464383),"Aug 2013"], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"parent-class","parent-class",973541895).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",1108535438),new cljs.core.Keyword(null,"parent","parent",4313447452))], null),"parent"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"assignment-class","assignment-class",3744147946).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",1108535438),new cljs.core.Keyword(null,"assignment","assignment",2040166975))], null),"assignments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"like-class","like-class",3084849972).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"likes"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"follow-class","follow-class",1817355214).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"followers"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"group-class","group-class",669420572).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"groups"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"add-group-class","add-group-class",4095028464).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"join group"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"timeline-class","timeline-class",547197022).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"timeline"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),new cljs.core.Keyword(null,"child-form-id","child-form-id",3204264581).cljs$core$IFn$_invoke$arity$1([cljs.core.str("child-form-"),cljs.core.str(thing_id)].join(''))], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"course","course",3954299789),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11352_SHARP_){return cljs.core.get.call(null,p1__11352_SHARP_,new cljs.core.Keyword("person","title","person/title",2822782252));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("course","author","course/author",1206334410)));var type = cljs.core.name.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"type","type",1017479852)));var add_lecture = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"body","body",1016933652),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"newthing-form","newthing-form",3991642965),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"course","course",3954299789),new cljs.core.Keyword(null,"add-lecture","add-lecture",1144728516)], null)], null),new cljs.core.Keyword(null,"data","data",1016980252),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"pid","pid",1014015229),thing_id], null)], null);var add_assignment = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"path","path",1017337751),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"add-thing","add-thing",4221519924),new cljs.core.Keyword(null,"assignment","assignment",2040166975)], null),new cljs.core.Keyword(null,"data","data",1016980252),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"author","author",3902543101),thing_id], null)], null);var enroll_form_name = [cljs.core.str("#enrollment-form-"),cljs.core.str(thing_id)].join('');var enroll_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("enrollment","name","enrollment/name",4199376570),[cljs.core.str("#enroll-name-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword("enrollment","remark","enrollment/remark",3291885495),[cljs.core.str("#enroll-remark-"),cljs.core.str(thing_id)].join('')], null);var enroll_form_data = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("enrollment","course","enrollment/course",2870872650),thing_id,new cljs.core.Keyword("enrollment","content","enrollment/content",866164400),[cljs.core.str("enroll into "),cljs.core.str(cljs.core.get.call(null,entity,new cljs.core.Keyword("course","title","course/title",1817064581)))].join('')], null);console.log("course thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.Keyword(null,"title","title",1124275658).cljs$core$IFn$_invoke$arity$1(value_map)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("content: "),cljs.core.str(new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("url: "),cljs.core.str(new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"type ",type], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"Offered by ",authors], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"lecture-class","lecture-class",1633036251).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",3954299789),new cljs.core.Keyword(null,"lecture","lecture",1066598640))], null),"lectures"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"add-lecture-class","add-lecture-class",3697271727).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){om.core.update_BANG_.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"title","title",1124275658)], null),entity);
return cljs.core.async.put_BANG_.call(null,comm,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"newthing-form","newthing-form",3991642965),add_lecture], null));
})], null),"add lecture"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"enrollment-class","enrollment-class",1443676385).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"enrollments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"enroll-class","enroll-class",3367644419).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){var f = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,[cljs.core.str("#enrollment-form-"),cljs.core.str(thing_id)].join(''))));return dommy.core.toggle_class_BANG_.call(null,f,"hide");
})], null),"enroll"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"comments-class","comments-class",3930933201).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",3954299789),new cljs.core.Keyword(null,"comments","comments",4706455910))], null),"comments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"similar-class","similar-class",3939379848).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"similar courses"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("child-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",1323808753),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("enrollment-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.enrollment-form","form.enrollment-form",2860704821),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("enroll-name-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"attendee"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("enroll-remark-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"remarks"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1017479852),"submit",new cljs.core.Keyword(null,"value","value",1125876963),"enroll",new cljs.core.Keyword(null,"class","class",1108647146),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"enrollment","enrollment",1129993846),enroll_form_name,enroll_form_data,enroll_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"lecture","lecture",1066598640),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11353_SHARP_){return cljs.core.get.call(null,p1__11353_SHARP_,new cljs.core.Keyword("person","title","person/title",2822782252));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("lecture","author","lecture/author",3041684758)));var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",1123661780)));var end = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"end","end",1014004813)));var add_question = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"title","title",1124275658),new cljs.core.Keyword(null,"body","body",1016933652),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"newthing-form","newthing-form",3991642965),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"lecture","lecture",1066598640),new cljs.core.Keyword(null,"add-question","add-question",2270060292)], null)], null),new cljs.core.Keyword(null,"data","data",1016980252),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"pid","pid",1014015229),thing_id], null)], null);var add_assignment = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"path","path",1017337751),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"add-thing","add-thing",4221519924),new cljs.core.Keyword(null,"assignment","assignment",2040166975)], null),new cljs.core.Keyword(null,"data","data",1016980252),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"author","author",3902543101),thing_id], null)], null);console.log("lecture thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.Keyword(null,"title","title",1124275658).cljs$core$IFn$_invoke$arity$1(value_map)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("content: "),cljs.core.str(new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("url: "),cljs.core.str(new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"Offered by ",authors], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),start,"   - -  ",end], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"course-class","course-class",1287770296).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",1066598640),new cljs.core.Keyword(null,"course","course",3954299789))], null),"course"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"question-class","question-class",1986127939).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",1066598640),new cljs.core.Keyword(null,"question","question",4143001432))], null),"questions"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"add-question-class","add-question-class",1552918255).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){om.core.update_BANG_.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"title","title",1124275658)], null),entity);
return cljs.core.async.put_BANG_.call(null,comm,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"newthing-form","newthing-form",3991642965),add_question], null));
})], null),"add question"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"enrollment-class","enrollment-class",1443676385).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),"enrollments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"comments-class","comments-class",3930933201).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",1066598640),new cljs.core.Keyword(null,"comments","comments",4706455910))], null),"comments"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("child-form-"),cljs.core.str(thing_id)].join('')], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"question","question",4143001432),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11354_SHARP_){return cljs.core.get.call(null,p1__11354_SHARP_,new cljs.core.Keyword("person","title","person/title",2822782252));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("question","author","question/author",4316828180)));var difficulty = cljs.core.get.call(null,entity,new cljs.core.Keyword("question","difficulty","question/difficulty",3207084996));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var assignto_form_name = [cljs.core.str("#assignto-form-"),cljs.core.str(thing_id)].join('');var assignto_end_field = [cljs.core.str("assignto-end-"),cljs.core.str(thing_id)].join('');var assignto_form_fields = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("assignment","person","assignment/person",514041477),[cljs.core.str("#assignto-person-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword("assignment","hint","assignment/hint",1677125047),[cljs.core.str("#assignto-hint-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword("assignment","priority","assignment/priority",771655766),[cljs.core.str("#assignto-priority-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword("assignment","end","assignment/end",1669696259),[cljs.core.str("#assignto-end-"),cljs.core.str(thing_id)].join('')], null);var assignto_form_data = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword("assigment","origin","assigment/origin",1816099084),thing_id,new cljs.core.Keyword("assignment","author","assignment/author",938619059),"rich-dad",new cljs.core.Keyword("assignment","title","assignment/title",1644900738),[cljs.core.str("assignment based on "),cljs.core.str(cljs.core.get.call(null,entity,new cljs.core.Keyword("question","title","question/title",665884965)))].join(''),new cljs.core.Keyword("assignment","start","assignment/start",1643958140),growingtree_app.utils.to_epoch.call(null),new cljs.core.Keyword("assignment","status","assignment/status",2622607884),new cljs.core.Keyword(null,"active","active",3885920888),new cljs.core.Keyword("assignment","origin","assignment/origin",530953432),thing_id,new cljs.core.Keyword("assignment","type","assignment/type",1676186852),cljs.core.get.call(null,entity,new cljs.core.Keyword("question","type","question/type",894903363))], null);console.log("question thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.Keyword(null,"title","title",1124275658).cljs$core$IFn$_invoke$arity$1(value_map)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("content: "),cljs.core.str(new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("url: "),cljs.core.str(new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"Authored by ",authors], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"difficulty ",difficulty], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"lecture-class","lecture-class",1633036251).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"lecture","lecture",1066598640))], null),"lecture"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"assignment-class","assignment-class",3744147946).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"assignment","assignment",2040166975))], null),"assignments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"similar-class","similar-class",3939379848).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"similar","similar",3107572061))], null),"similar questions"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"assignto-class","assignto-class",3492731143).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){var f = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,[cljs.core.str("#assignto-form-"),cljs.core.str(thing_id)].join(''))));return dommy.core.toggle_class_BANG_.call(null,f,"hide");
})], null),"assign to"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"comments-class","comments-class",3930933201).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",4143001432),new cljs.core.Keyword(null,"comments","comments",4706455910))], null),"comments"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("child-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",1323808753),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("assignto-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.enrollment-form","form.enrollment-form",2860704821),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("assignto-person-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"assign to person"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("assignto-end-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"datetime",new cljs.core.Keyword(null,"data-format","data-format",2177192684),"hh:mm:ss MM/dd/yyyy",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"due time"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.add-on","span.add-on",4237306145),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",1013904339),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),[cljs.core.str("javascript:NewCal('"),cljs.core.str(assignto_end_field),cljs.core.str("','mmddyyyy', 'true');")].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",1013904347),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-time-icon","data-time-icon",2922413192),"icon-time",new cljs.core.Keyword(null,"data-data-icon","data-data-icon",2522374603),"icon-calendar"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",1014018390),"cal.gif",new cljs.core.Keyword(null,"width","width",1127031096),"16",new cljs.core.Keyword(null,"height","height",4087841945),"16"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("assignto-priority-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"priority"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("assignto-hint-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"hint"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1017479852),"submit",new cljs.core.Keyword(null,"value","value",1125876963),"assign to",new cljs.core.Keyword(null,"class","class",1108647146),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"assignment","assignment",2040166975),assignto_form_name,assignto_form_data,assignto_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"assignment","assignment",2040166975),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11355_SHARP_){return cljs.core.get.call(null,p1__11355_SHARP_,new cljs.core.Keyword("person","title","person/title",2822782252));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("assignment","author","assignment/author",938619059)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var content = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",4300251800),new cljs.core.Keyword("question","content","question/content",2060683014)], null));var url = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",4300251800),new cljs.core.Keyword("question","url","question/url",908228096)], null));var hint = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"hint","hint",1017106937));var end = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"end","end",1014004813)));var answer_form_name = [cljs.core.str("#answer-form-"),cljs.core.str(thing_id)].join('');var answer_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("answer","title","answer/title",3350961655),[cljs.core.str("#answer-title-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword("answer","content","answer/content",3186789336),[cljs.core.str("#answer-content-"),cljs.core.str(thing_id)].join('')], null);var answer_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("answer","origin","answer/origin",847843753),thing_id,new cljs.core.Keyword("answer","author","answer/author",711237318),"rich-son",new cljs.core.Keyword("answer","start","answer/start",3351641069),growingtree_app.utils.to_epoch.call(null)], null);console.log("assignment thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.Keyword(null,"title","title",1124275658).cljs$core$IFn$_invoke$arity$1(value_map)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("content: "),cljs.core.str(content)].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("url: "),cljs.core.str(url)].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"hint :",hint], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"due  :",end], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"lecture-class","lecture-class",1633036251).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"question","question",4143001432))], null),"question"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"assignment-class","assignment-class",3744147946).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"answer","answer",3896062768))], null),"answers"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"similar-class","similar-class",3939379848).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"similar","similar",3107572061))], null),"related assignments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"answer-class","answer-class",2795350555).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){var f = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,[cljs.core.str("#answer-form-"),cljs.core.str(thing_id)].join(''))));return dommy.core.toggle_class_BANG_.call(null,f,"hide");
})], null),"answer"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"comments-class","comments-class",3930933201).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",2040166975),new cljs.core.Keyword(null,"comments","comments",4706455910))], null),"comments"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("child-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",1323808753),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("answer-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.answer-form","form.answer-form",2178008763),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("answer-title-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"answer"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("answer-content-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"explain"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1017479852),"submit",new cljs.core.Keyword(null,"value","value",1125876963),"submit",new cljs.core.Keyword(null,"class","class",1108647146),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"answer","answer",3896062768),answer_form_name,answer_form_data,answer_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"answer","answer",3896062768),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11356_SHARP_){return cljs.core.get.call(null,p1__11356_SHARP_,new cljs.core.Keyword("person","title","person/title",2822782252));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("answer","author","answer/author",711237318)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"title","title",1124275658)], null));var content = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"content","content",1965434859));var origin_content = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",4300251800),new cljs.core.Keyword("assignment","content","assignment/content",2858958753)], null));var score = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"score","score",1123168772));var url = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",4300251800),new cljs.core.Keyword("assignment","url","assignment/url",1669713039)], null));var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",1123661780)));var grade_form_name = [cljs.core.str("#grade-form-"),cljs.core.str(thing_id)].join('');var grade_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("grade","score","grade/score",3115965328),[cljs.core.str("#grade-score-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword("grade","comments","grade/comments",2488220782),[cljs.core.str("#grade-comments-"),cljs.core.str(thing_id)].join('')], null);var grade_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("grade","origin","grade/origin",2086234876),thing_id,new cljs.core.Keyword("grade","author","grade/author",1612970215),"rich-dad",new cljs.core.Keyword("grade","start","grade/start",3116520896),growingtree_app.utils.to_epoch.call(null)], null);console.log("answer thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("content: "),cljs.core.str(content)].join('')], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1175170888),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1756570460),[cljs.core.str("assignment : "),cljs.core.str(origin_content)].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"submitted at :",start], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),[cljs.core.str("Score : "),cljs.core.str(score)].join('')], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"lecture-class","lecture-class",1633036251).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",3896062768),new cljs.core.Keyword(null,"assignment","assignment",2040166975))], null),"assignment"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"answer-class","answer-class",2795350555).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){var f = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,[cljs.core.str("#grade-form-"),cljs.core.str(thing_id)].join(''))));return dommy.core.toggle_class_BANG_.call(null,f,"hide");
})], null),"grade"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"similar-class","similar-class",3939379848).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",3896062768),new cljs.core.Keyword(null,"similar","similar",3107572061))], null),"similar answers"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"comments-class","comments-class",3930933201).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",3896062768),new cljs.core.Keyword(null,"comments","comments",4706455910))], null),"comments"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("child-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",1323808753),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("grade-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.grade-form","form.grade-form",1013243862),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("grade-score-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"grade"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("grade-comments-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"style","style",1123684643),{"display": "block"},new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"comments"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1017479852),"submit",new cljs.core.Keyword(null,"value","value",1125876963),"submit",new cljs.core.Keyword(null,"class","class",1108647146),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"grade","grade",1112519497),grade_form_name,grade_form_data,grade_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"comments","comments",4706455910),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11357_SHARP_){return cljs.core.get.call(null,p1__11357_SHARP_,new cljs.core.Keyword("person","title","person/title",2822782252));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("comments","author","comments/author",967658478)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var thingroot = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"thingroot","thingroot",4612674114));var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",1124275658));var tm = growingtree_app.utils.time_to_string.call(null,(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",4449268419)) / 1000));var ago = growingtree_app.utils.moment_from.call(null,moment(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",4449268419))),moment());var offset = ((cljs.core.count.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"navpath","navpath",2744497978))) - 2) / 2);var reply_form_name = [cljs.core.str("#reply-form-"),cljs.core.str(thing_id)].join('');var reply_form_fields = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("comments","title","comments/title",4766189363),[cljs.core.str("#reply-title-"),cljs.core.str(thing_id)].join('')], null);var reply_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("comments","origin","comments/origin",557365857),thing_id,new cljs.core.Keyword("comments","thingroot","comments/thingroot",1272548011),thingroot,new cljs.core.Keyword("comments","author","comments/author",967658478),"rich-son"], null);console.log("comments thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join(''),new cljs.core.Keyword(null,"class","class",1108647146),[cljs.core.str("comment"),cljs.core.str(offset)].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"submitted ",ago," ago at ",tm], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"comments-class","comments-class",3930933201).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"comments","comments",4706455910),new cljs.core.Keyword(null,"comments","comments",4706455910))], null),"comments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"lecture-class","lecture-class",1633036251).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"comments","comments",4706455910),new cljs.core.Keyword(null,"comments","comments",4706455910))], null),"tips"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"comments-class","comments-class",3930933201).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),(function (_){var f = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,[cljs.core.str("#reply-form-"),cljs.core.str(thing_id)].join(''))));return dommy.core.toggle_class_BANG_.call(null,f,"hide");
})], null),"reply"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",3855139780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("child-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",1323808753),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("reply-form-"),cljs.core.str(thing_id)].join('')], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.reply-form","form.reply-form",4623663267),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea","textarea",4305627820),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str("reply-title-"),cljs.core.str(thing_id)].join(''),new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"comments",new cljs.core.Keyword(null,"style","style",1123684643),{"height": "100px", "width": "90%", "display": "block"}], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1017479852),"submit",new cljs.core.Keyword(null,"value","value",1125876963),"submit",new cljs.core.Keyword(null,"class","class",1108647146),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"comments","comments",4706455910),reply_form_name,reply_form_data,reply_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"timeline","timeline",3232221107),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",1108747865),new cljs.core.Keyword(null,"controls","controls",4741937704)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11358_SHARP_){return cljs.core.get.call(null,p1__11358_SHARP_,new cljs.core.Keyword("person","title","person/title",2822782252));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("timeline","author","timeline/author",1540796046)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var thing_type__$1 = cljs.core.keyword.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(value_map));var thingroot = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"thingroot","thingroot",4612674114));var title = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",4300251800),cljs.core.keyword.call(null,[cljs.core.str(new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(value_map)),cljs.core.str("/title")].join(''))], null));var tm = growingtree_app.utils.time_to_string.call(null,(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",4449268419)) / 1000));var ago = growingtree_app.utils.moment_from.call(null,moment(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",4449268419))),moment());var offset = ((cljs.core.count.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"navpath","navpath",2744497978))) - 2) / 2);console.log("timeline thing value ",cljs.core.pr_str.call(null,cljs.core.keyword.call(null,[cljs.core.str(thing_type__$1),cljs.core.str("/title")].join(''))),cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2376401385),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",1013907597),[cljs.core.str(new cljs.core.Keyword("db","id","db/id",1014111942).cljs$core$IFn$_invoke$arity$1(value_map))].join(''),new cljs.core.Keyword(null,"class","class",1108647146),[cljs.core.str("timeline"),cljs.core.str(offset)].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",4619993026),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",3784381562),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1098568399),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",3558781242),new cljs.core.Keyword(null,"upvote","upvote",4470574967).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",771276886),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",1017410536),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1077487772),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",3684127505),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",1127031096),"70",new cljs.core.Keyword(null,"height","height",4087841945),"70",new cljs.core.Keyword(null,"src","src",1014018390),[cljs.core.str("/"),cljs.core.str(thing_type__$1.call(null,growingtree_app.components.entity_view.thing_thumbnail))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",2607192858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",3057381068),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",2629727741),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",1017115293),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",1754048130),"submitted ",ago," ago at ",tm], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",3287850976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"timeline-class","timeline-class",547197022).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"timeline","timeline",3232221107),new cljs.core.Keyword(null,"timeline","timeline",3232221107))], null),"timeline"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",4678773664),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"lecture-class","lecture-class",1633036251).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",4791563754),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",1773178692),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",1017115293),"#",new cljs.core.Keyword(null,"on-click","on-click",1416542092),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"timeline","timeline",3232221107),new cljs.core.Keyword(null,"timeline","timeline",3232221107))], null),"tips"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",3395383849)], null)], null)], null));
}));

//# sourceMappingURL=entity_view.js.map