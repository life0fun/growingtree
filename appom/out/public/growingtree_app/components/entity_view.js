// Compiled by ClojureScript 0.0-2277
goog.provide('growingtree_app.components.entity_view');
goog.require('cljs.core');
goog.require('growingtree_app.utils');
goog.require('cljs.core.async');
goog.require('goog.crypt');
goog.require('goog.i18n.NumberFormat.Format');
goog.require('sablono.core');
goog.require('goog.net.EventType');
goog.require('goog.i18n.NumberFormat.Format');
goog.require('cljs.core.async');
goog.require('growingtree_app.routes');
goog.require('dommy.core');
goog.require('goog.events');
goog.require('goog.Uri');
goog.require('growingtree_app.ui');
goog.require('cljs.core.async');
goog.require('growingtree_app.mock_data');
goog.require('sablono.core');
goog.require('goog.net.EventType');
goog.require('goog.crypt');
goog.require('growingtree_app.utils');
goog.require('clojure.string');
goog.require('om.core');
goog.require('dommy.core');
goog.require('growingtree_app.mock_data');
goog.require('om.core');
goog.require('growingtree_app.routes');
goog.require('growingtree_app.ui');
goog.require('growingtree_app.utils');
goog.require('clojure.string');
goog.require('goog.crypt.Md5');
goog.require('cljs.reader');
goog.require('goog.events');
goog.require('cljs.reader');
growingtree_app.components.entity_view.thing_nav_actionkey = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161)],[cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"add-question","add-question",1475121863),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],[""," hide","","","","","","",""]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"join-group","join-group",204136547),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"add-activity","add-activity",-1339549691),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"upvote","upvote",1296279834),new cljs.core.Keyword(null,"group-members","group-members",-729516321)],["",""," hide","","","","","","",""]),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"origin","origin",1037372088),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"follow","follow",-809317662),new cljs.core.Keyword(null,"join-group","join-group",204136547),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"add-child","add-child",1455054133),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],[""," hide","","","",""," hide","","","",""]),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"author","author",2111686192),"",new cljs.core.Keyword(null,"reply","reply",1144328671),"",new cljs.core.Keyword(null,"reply-form","reply-form",-418292520),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"like","like",-914050076),"",new cljs.core.Keyword(null,"share","share",-589433933),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"assignto","assignto",1746847181),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"similar","similar",-1871074735),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],["","","","","","","","",""]),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),"",new cljs.core.Keyword(null,"participants","participants",673603367),"",new cljs.core.Keyword(null,"join","join",-758861890),"",new cljs.core.Keyword(null,"comments","comments",-293346423),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"like","like",-914050076),"",new cljs.core.Keyword(null,"share","share",-589433933),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"enrollment","enrollment",351130082),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"add-lecture","add-lecture",-70422632),new cljs.core.Keyword(null,"upvote","upvote",1296279834),new cljs.core.Keyword(null,"enroll","enroll",-1480177252)],["","","","","","",""," hide","",""]),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),"",new cljs.core.Keyword(null,"grade","grade",2117054771),"",new cljs.core.Keyword(null,"assignment","assignment",1330426519),"",new cljs.core.Keyword(null,"comments","comments",-293346423),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"like","like",-914050076),"",new cljs.core.Keyword(null,"share","share",-589433933),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"hint","hint",439639918),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"similar","similar",-1871074735),new cljs.core.Keyword(null,"submit-answer","submit-answer",-723832653),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],["","","","","","","","","","",""]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"enrollment","enrollment",351130082),new cljs.core.Keyword(null,"follow","follow",-809317662),new cljs.core.Keyword(null,"join-group","join-group",204136547),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"schoolclass","schoolclass",-2118001962),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"add-parent","add-parent",-490259497),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"upvote","upvote",1296279834),new cljs.core.Keyword(null,"add-schoolclass","add-schoolclass",1133447967)],["",""," hide","","","","","","",""," hide","",""," hide"]),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"origin","origin",1037372088),"",new cljs.core.Keyword(null,"details","details",1956795411),"",new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),""], null)]);
growingtree_app.components.entity_view.thing_thumbnail = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"enrollment","enrollment",351130082),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161)],["lecture.jpg","enrollment.png","group.jpg","like.jpg","parent.jpg","comments.jpg","question.jpg","group.jpg","course.jpg","answer.jpg","homework.jpg","child.jpg","timeline.jpg"]);
growingtree_app.components.entity_view.thing_attr_val = (function thing_attr_val(thing_map,thing_type,attr){if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"parent","parent",-878878779),thing_type))
{return cljs.core.keyword.call(null,("person/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(attr))).call(null,thing_map);
} else
{if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"child","child",623967545),thing_type))
{return cljs.core.keyword.call(null,("person/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(attr))).call(null,thing_map);
} else
{if(new cljs.core.Keyword(null,"else","else",-1508377146))
{return cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,thing_type))+"/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(attr))).call(null,thing_map);
} else
{return null;
}
}
}
});
/**
* ret the class selector for thing nav sublink transkey
*/
growingtree_app.components.entity_view.actionkey_class = (function actionkey_class(thing_id,link_key,hide){var k = cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,link_key))+"-class"));var clz = (''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,link_key))+"-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)+" "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(hide));return cljs.core.PersistentHashMap.fromArrays.call(null,[k],[clz]);
});
growingtree_app.components.entity_view.actionkeys_class = (function actionkeys_class(thing_id,actionkeys){return cljs.core.reduce.call(null,(function (tot,p__11645){var vec__11646 = p__11645;var attr_key = cljs.core.nth.call(null,vec__11646,(0),null);var hide = cljs.core.nth.call(null,vec__11646,(1),null);return cljs.core.merge.call(null,tot,growingtree_app.components.entity_view.actionkey_class.call(null,thing_id,attr_key,hide));
}),cljs.core.PersistentArrayMap.EMPTY,actionkeys);
});
/**
* ret thing value map from datomic entity by striping out attr's namespace
*/
growingtree_app.components.entity_view.thing_value_strip_type = (function thing_value_strip_type(entity){var id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var thing_data = cljs.core.dissoc.call(null,entity,new cljs.core.Keyword("db","id","db/id",-1388397098));var attrs = cljs.core.keys.call(null,thing_data);var value_map = cljs.core.reduce.call(null,((function (id,thing_data,attrs){
return (function (tot,p__11649){var vec__11650 = p__11649;var k = cljs.core.nth.call(null,vec__11650,(0),null);var v = cljs.core.nth.call(null,vec__11650,(1),null);return cljs.core.assoc.call(null,tot,cljs.core.keyword.call(null,cljs.core.name.call(null,k)),((growingtree_app.utils.many_QMARK_.call(null,v))?clojure.string.join.call(null,", ",v):v));
});})(id,thing_data,attrs))
,cljs.core.PersistentArrayMap.EMPTY,thing_data);return cljs.core.assoc.call(null,value_map,new cljs.core.Keyword(null,"id","id",-1388402092),id);
});
growingtree_app.components.entity_view.upvote_onclick = (function() {
var upvote_onclick = null;
var upvote_onclick__2 = (function (app,entity){return upvote_onclick.call(null,app,entity,cljs.core.PersistentArrayMap.EMPTY);
});
var upvote_onclick__3 = (function (app,entity,options){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var login_user = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"login-user","login-user",1935565562)], null));return ((function (comm,thing_id,login_user){
return (function (_){var login_user_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,login_user));var like_data = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("like","origin","like/origin",1042455329),thing_id,new cljs.core.Keyword("like","person","like/person",-1065717376),login_user_id], null);console.log(cljs.core.pr_str.call(null,"upvote-onclick ",thing_id,cljs.core.deref.call(null,login_user)));
return cljs.core.async.put_BANG_.call(null,comm,growingtree_app.mock_data.add_thing_msg_nav_path.call(null,new cljs.core.Keyword(null,"like","like",-914050076),like_data));
});
;})(comm,thing_id,login_user))
});
upvote_onclick = function(app,entity,options){
switch(arguments.length){
case 2:
return upvote_onclick__2.call(this,app,entity);
case 3:
return upvote_onclick__3.call(this,app,entity,options);
}
throw(new Error('Invalid arity: ' + arguments.length));
};
upvote_onclick.cljs$core$IFn$_invoke$arity$2 = upvote_onclick__2;
upvote_onclick.cljs$core$IFn$_invoke$arity$3 = upvote_onclick__3;
return upvote_onclick;
})()
;
growingtree_app.components.entity_view.filter_things_onclick = (function() {
var filter_things_onclick = null;
var filter_things_onclick__4 = (function (app,entity,parent_type,filtered_type){return filter_things_onclick.call(null,app,entity,parent_type,filtered_type,cljs.core.PersistentArrayMap.EMPTY);
});
var filter_things_onclick__5 = (function (app,entity,parent_type,filtered_type,options){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var parent_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);return ((function (comm,parent_id){
return (function (_){var top_url = (function (){var url = growingtree_app.routes.window_location.call(null);var url__$1 = clojure.string.split.call(null,url,/\//);var url__$2 = cljs.core.last.call(null,url__$1);var url__$3 = (''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url__$2)+"/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(parent_id));return url__$3;
})();var top_eid = parent_id;console.log(cljs.core.pr_str.call(null,"filter thing click top-url ",top_url,top_eid));
growingtree_app.ui.hide_all_forms.call(null,parent_id);
om.core.update_BANG_.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"top","top",-1856271961)], null),entity);
om.core.update_BANG_.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"url-data","url-data",-1539425798),top_eid], null),entity);
return cljs.core.async.put_BANG_.call(null,comm,growingtree_app.mock_data.filter_things_msg_nav_path.call(null,parent_type,parent_id,filtered_type,options));
});
;})(comm,parent_id))
});
filter_things_onclick = function(app,entity,parent_type,filtered_type,options){
switch(arguments.length){
case 4:
return filter_things_onclick__4.call(this,app,entity,parent_type,filtered_type);
case 5:
return filter_things_onclick__5.call(this,app,entity,parent_type,filtered_type,options);
}
throw(new Error('Invalid arity: ' + arguments.length));
};
filter_things_onclick.cljs$core$IFn$_invoke$arity$4 = filter_things_onclick__4;
filter_things_onclick.cljs$core$IFn$_invoke$arity$5 = filter_things_onclick__5;
return filter_things_onclick;
})()
;
growingtree_app.components.entity_view.submit_form_fn = (function submit_form_fn(app,add_thing_type,form_name,base_data,fields){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));return ((function (comm){
return (function (_){var $form = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,form_name)));var data = cljs.core.reduce.call(null,((function ($form,comm){
return (function (tot,p__11654){var vec__11655 = p__11654;var attr = cljs.core.nth.call(null,vec__11655,(0),null);var fieldid = cljs.core.nth.call(null,vec__11655,(1),null);return cljs.core.assoc.call(null,tot,attr,dommy.core.value.call(null,document.querySelector(dommy.core.selector.call(null,fieldid))));
});})($form,comm))
,cljs.core.PersistentArrayMap.EMPTY,fields);var form_data = (function (){var d = data;var d__$1 = cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.remove.call(null,((function (d,$form,data,comm){
return (function (p1__11651_SHARP_){if(typeof cljs.core.val.call(null,p1__11651_SHARP_) === 'string')
{return cljs.core.empty_QMARK_.call(null,cljs.core.val.call(null,p1__11651_SHARP_));
} else
{return false;
}
});})(d,$form,data,comm))
,d));var d__$2 = cljs.core.merge.call(null,base_data,d__$1);var d__$3 = growingtree_app.utils.set_time.call(null,d__$2,new cljs.core.Keyword(null,"assignment","assignment",1330426519),"end");var d__$4 = growingtree_app.utils.set_time.call(null,d__$3,new cljs.core.Keyword(null,"activity","activity",-1179221455),"start");return d__$4;
})();dommy.core.toggle_class_BANG_.call(null,$form,"hide");
console.log(cljs.core.pr_str.call(null,form_name," data ",form_data));
return cljs.core.async.put_BANG_.call(null,comm,growingtree_app.mock_data.add_thing_msg_nav_path.call(null,add_thing_type,form_data));
});
;})(comm))
});
growingtree_app.components.entity_view.thing_entry = (function (){var method_table__4409__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var prefer_table__4410__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var method_cache__4411__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var cached_hierarchy__4412__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var hierarchy__4413__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));return (new cljs.core.MultiFn("thing-entry",((function (method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__){
return (function (app,thing_type,entity,override){return thing_type;
});})(method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4413__auto__,method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__));
})();
growingtree_app.components.entity_view.thing_entry_thumbnail = (function thing_entry_thumbnail(thing_type,value_map,upvote_fn){return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null)),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote",new cljs.core.Keyword(null,"on-click","on-click",1632826543),upvote_fn], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),(function (){var or__3543__auto__ = new cljs.core.Keyword(null,"rank","rank",-1706728502).cljs$core$IFn$_invoke$arity$1(value_map);if(cljs.core.truth_(or__3543__auto__))
{return or__3543__auto__;
} else
{return "1";
}
})()], null));
});
growingtree_app.components.entity_view.thing_entry_titles = (function thing_entry_titles(titles){var iter__4268__auto__ = (function iter__11660(s__11661){return (new cljs.core.LazySeq(null,(function (){var s__11661__$1 = s__11661;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11661__$1);if(temp__4126__auto__)
{var s__11661__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11661__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11661__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11663 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11662 = (0);while(true){
if((i__11662 < size__4267__auto__))
{var t = cljs.core._nth.call(null,c__4266__auto__,i__11662);cljs.core.chunk_append.call(null,b__11663,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__11662,t,c__4266__auto__,size__4267__auto__,b__11663,s__11661__$2,temp__4126__auto__){
return (function (_){return console.log("title clicked");
});})(i__11662,t,c__4266__auto__,size__4267__auto__,b__11663,s__11661__$2,temp__4126__auto__))
], null),t], null));
{
var G__11664 = (i__11662 + (1));
i__11662 = G__11664;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11663),iter__11660.call(null,cljs.core.chunk_rest.call(null,s__11661__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11663),null);
}
} else
{var t = cljs.core.first.call(null,s__11661__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (t,s__11661__$2,temp__4126__auto__){
return (function (_){return console.log("title clicked");
});})(t,s__11661__$2,temp__4126__auto__))
], null),t], null),iter__11660.call(null,cljs.core.rest.call(null,s__11661__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,titles);
});
growingtree_app.components.entity_view.thing_entry_clickable_titles = (function thing_entry_clickable_titles(title,click_fn){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),"to   ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),click_fn], null),("   "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(title))], null)], null);
});
growingtree_app.components.entity_view.thing_entry_subtitles = (function thing_entry_subtitles(subtitles){var iter__4268__auto__ = (function iter__11669(s__11670){return (new cljs.core.LazySeq(null,(function (){var s__11670__$1 = s__11670;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11670__$1);if(temp__4126__auto__)
{var s__11670__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11670__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11670__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11672 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11671 = (0);while(true){
if((i__11671 < size__4267__auto__))
{var subt = cljs.core._nth.call(null,c__4266__auto__,i__11671);cljs.core.chunk_append.call(null,b__11672,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),subt], null)], null));
{
var G__11673 = (i__11671 + (1));
i__11671 = G__11673;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11672),iter__11669.call(null,cljs.core.chunk_rest.call(null,s__11670__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11672),null);
}
} else
{var subt = cljs.core.first.call(null,s__11670__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),subt], null)], null),iter__11669.call(null,cljs.core.rest.call(null,s__11670__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,subtitles);
});
growingtree_app.components.entity_view.thing_entry_taglines = (function thing_entry_taglines(taglines){var iter__4268__auto__ = (function iter__11678(s__11679){return (new cljs.core.LazySeq(null,(function (){var s__11679__$1 = s__11679;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11679__$1);if(temp__4126__auto__)
{var s__11679__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11679__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11679__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11681 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11680 = (0);while(true){
if((i__11680 < size__4267__auto__))
{var tagl = cljs.core._nth.call(null,c__4266__auto__,i__11680);cljs.core.chunk_append.call(null,b__11681,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),tagl], null));
{
var G__11682 = (i__11680 + (1));
i__11680 = G__11682;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11681),iter__11678.call(null,cljs.core.chunk_rest.call(null,s__11679__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11681),null);
}
} else
{var tagl = cljs.core.first.call(null,s__11679__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),tagl], null),iter__11678.call(null,cljs.core.rest.call(null,s__11679__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,taglines);
});
growingtree_app.components.entity_view.thing_entry_action_button_li = (function thing_entry_action_button_li(text,classname,on_click_fn){return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),classname], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),on_click_fn], null),text], null)], null)], null)], null));
});
growingtree_app.components.entity_view.progress_step = (function progress_step(step){var title = new cljs.core.Keyword("progressstep","title","progressstep/title",152872040).cljs$core$IFn$_invoke$arity$1(step);var status = new cljs.core.Keyword("progressstep","status","progressstep/status",-573540770).cljs$core$IFn$_invoke$arity$1(step);return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.progress-step","li.progress-step",1494488530),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.progress-title","span.progress-title",1437218560),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),title], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.meter","div.meter",1030925119),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),{"width": (''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(status)+"%")}], null)], null)], null)], null)], null);
});
growingtree_app.components.entity_view.progress_tracker = (function progress_tracker(progress){var temp__4126__auto__ = new cljs.core.Keyword("progress","steps","progress/steps",805602621).cljs$core$IFn$_invoke$arity$1(progress);if(cljs.core.truth_(temp__4126__auto__))
{var progress_steps = temp__4126__auto__;return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ol.progress-tracker","ol.progress-tracker",-1251627697),cljs.core.map.call(null,growingtree_app.components.entity_view.progress_step,cljs.core.sort_by.call(null,new cljs.core.Keyword("progressstep","order","progressstep/order",-907880593),progress_steps))], null);
} else
{return null;
}
});
growingtree_app.components.entity_view.thing_entry_child_form = (function thing_entry_child_form(form_id,form_class,input_map,submit_text,submit_fn){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),form_id], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form","form",-1624062471),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),form_class,new cljs.core.Keyword(null,"style","style",-496642736),{"float": "left;"}], null),(function (){var iter__4268__auto__ = (function iter__11703(s__11704){return (new cljs.core.LazySeq(null,(function (){var s__11704__$1 = s__11704;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11704__$1);if(temp__4126__auto__)
{var s__11704__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11704__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11704__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11706 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11705 = (0);while(true){
if((i__11705 < size__4267__auto__))
{var vec__11715 = cljs.core._nth.call(null,c__4266__auto__,i__11705);var field_name = cljs.core.nth.call(null,vec__11715,(0),null);var field_data = cljs.core.nth.call(null,vec__11715,(1),null);cljs.core.chunk_append.call(null,b__11706,(function (){var pred__11716 = cljs.core._EQ_;var expr__11717 = new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(field_data);if(cljs.core.truth_(pred__11716.call(null,"datetime",expr__11717)))
{return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.datetime-picker.input-append","div.datetime-picker.input-append",-113828227),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"data-format","data-format",-1707052133),"hh:mm:ss MM/dd/yyyy",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(field_data)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.add-on","span.add-on",-1168406876),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),("javascript:NewCal('"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data))+"','mmddyyyy', 'true');")], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-time-icon","data-time-icon",1661910671),"icon-time",new cljs.core.Keyword(null,"data-data-icon","data-data-icon",-2020633199),"icon-calendar"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",-1651076051),"cal.gif",new cljs.core.Keyword(null,"width","width",-384071477),"16",new cljs.core.Keyword(null,"height","height",1025178622),"16"], null)], null)], null)], null)], null);
} else
{if(cljs.core.truth_(pred__11716.call(null,"select",expr__11717)))
{var temp__4124__auto__ = new cljs.core.Keyword(null,"select","select",1147833503).cljs$core$IFn$_invoke$arity$1(field_data);if(cljs.core.truth_(temp__4124__auto__))
{var options = temp__4124__auto__;return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select","select",1147833503),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data)], null),cljs.core.map.call(null,((function (i__11705,options,temp__4124__auto__,pred__11716,expr__11717,vec__11715,field_name,field_data,c__4266__auto__,size__4267__auto__,b__11706,s__11704__$2,temp__4126__auto__){
return (function (v){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),v], null),cljs.core.name.call(null,v)], null);
});})(i__11705,options,temp__4124__auto__,pred__11716,expr__11717,vec__11715,field_name,field_data,c__4266__auto__,size__4267__auto__,b__11706,s__11704__$2,temp__4126__auto__))
,options)], null);
} else
{return null;
}
} else
{if(cljs.core.truth_(pred__11716.call(null,"list",expr__11717)))
{var datalist = new cljs.core.Keyword(null,"datalist","datalist",-1235043474).cljs$core$IFn$_invoke$arity$1(field_data);var datalist_name = (''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data))+"-datalist");console.log(cljs.core.pr_str.call(null,"datalist ",datalist));
return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"datalist","datalist",-1235043474),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),datalist_name], null),cljs.core.map.call(null,((function (i__11705,datalist,datalist_name,pred__11716,expr__11717,vec__11715,field_name,field_data,c__4266__auto__,size__4267__auto__,b__11706,s__11704__$2,temp__4126__auto__){
return (function (v){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),v], null),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,v)))], null);
});})(i__11705,datalist,datalist_name,pred__11716,expr__11717,vec__11715,field_name,field_data,c__4266__auto__,size__4267__auto__,b__11706,s__11704__$2,temp__4126__auto__))
,datalist)], null)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"list","list",765357683),new cljs.core.Keyword(null,"list","list",765357683),datalist_name], null)], null));
} else
{return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(field_data)], null)], null);
}
}
}
})());
{
var G__11723 = (i__11705 + (1));
i__11705 = G__11723;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11706),iter__11703.call(null,cljs.core.chunk_rest.call(null,s__11704__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11706),null);
}
} else
{var vec__11719 = cljs.core.first.call(null,s__11704__$2);var field_name = cljs.core.nth.call(null,vec__11719,(0),null);var field_data = cljs.core.nth.call(null,vec__11719,(1),null);return cljs.core.cons.call(null,(function (){var pred__11720 = cljs.core._EQ_;var expr__11721 = new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(field_data);if(cljs.core.truth_(pred__11720.call(null,"datetime",expr__11721)))
{return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.datetime-picker.input-append","div.datetime-picker.input-append",-113828227),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"data-format","data-format",-1707052133),"hh:mm:ss MM/dd/yyyy",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(field_data)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.add-on","span.add-on",-1168406876),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),("javascript:NewCal('"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data))+"','mmddyyyy', 'true');")], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-time-icon","data-time-icon",1661910671),"icon-time",new cljs.core.Keyword(null,"data-data-icon","data-data-icon",-2020633199),"icon-calendar"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",-1651076051),"cal.gif",new cljs.core.Keyword(null,"width","width",-384071477),"16",new cljs.core.Keyword(null,"height","height",1025178622),"16"], null)], null)], null)], null)], null);
} else
{if(cljs.core.truth_(pred__11720.call(null,"select",expr__11721)))
{var temp__4124__auto__ = new cljs.core.Keyword(null,"select","select",1147833503).cljs$core$IFn$_invoke$arity$1(field_data);if(cljs.core.truth_(temp__4124__auto__))
{var options = temp__4124__auto__;return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select","select",1147833503),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data)], null),cljs.core.map.call(null,((function (options,temp__4124__auto__,pred__11720,expr__11721,vec__11719,field_name,field_data,s__11704__$2,temp__4126__auto__){
return (function (v){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),v], null),cljs.core.name.call(null,v)], null);
});})(options,temp__4124__auto__,pred__11720,expr__11721,vec__11719,field_name,field_data,s__11704__$2,temp__4126__auto__))
,options)], null);
} else
{return null;
}
} else
{if(cljs.core.truth_(pred__11720.call(null,"list",expr__11721)))
{var datalist = new cljs.core.Keyword(null,"datalist","datalist",-1235043474).cljs$core$IFn$_invoke$arity$1(field_data);var datalist_name = (''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data))+"-datalist");console.log(cljs.core.pr_str.call(null,"datalist ",datalist));
return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"datalist","datalist",-1235043474),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),datalist_name], null),cljs.core.map.call(null,((function (datalist,datalist_name,pred__11720,expr__11721,vec__11719,field_name,field_data,s__11704__$2,temp__4126__auto__){
return (function (v){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),v], null),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,v)))], null);
});})(datalist,datalist_name,pred__11720,expr__11721,vec__11719,field_name,field_data,s__11704__$2,temp__4126__auto__))
,datalist)], null)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"list","list",765357683),new cljs.core.Keyword(null,"list","list",765357683),datalist_name], null)], null));
} else
{return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(field_data),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(field_data)], null)], null);
}
}
}
})(),iter__11703.call(null,cljs.core.rest.call(null,s__11704__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,input_map);
})(),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.inline-form-btn","button.btn.btn-primary.inline-form-btn",-238701495),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"id","id",-1388402092),"submit",new cljs.core.Keyword(null,"on-click","on-click",1632826543),submit_fn], null),submit_text], null)], null)], null);
});
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"default","default",-1987822328),(function (app,thing_type,entity,override){console.log(cljs.core.pr_str.call(null,"thing-entry ",thing_type,entity));
var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys));return console.log(("thing-entry :default "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(value_map)));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"person","person",-1059806875),(function (app,thing_type,entity,override){var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var thing_type__$1 = new cljs.core.Keyword("person","type","person/type",-1703713807).cljs$core$IFn$_invoke$arity$1(entity);return growingtree_app.components.entity_view.thing_entry.call(null,app,thing_type__$1,entity,override);
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"parent","parent",-878878779),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(value_map);var join_group_form_name = ("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_group_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-name-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"group name"], null),new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"brief intro"], null)], null);var join_group_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("group","remark","group/remark",-1116424895),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var join_group_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("group","person","group/person",-952912152),thing_id], null);return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("phone: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"phone","phone",-763596057).cljs$core$IFn$_invoke$arity$1(value_map))),("email: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(value_map)))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("url "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map)))],null))),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"children",new cljs.core.Keyword(null,"child-class","child-class",216780503).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"child","child",623967545))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add child",new cljs.core.Keyword(null,"add-child-class","add-child-class",2128213288).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,(".add-child-form"))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assignments",new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"followers",new cljs.core.Keyword(null,"follow-class","follow-class",-980816976).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"follow","follow",-809317662))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"groups",new cljs.core.Keyword(null,"group-class","group-class",749612291).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"group","group",582596132))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"join group",new cljs.core.Keyword(null,"join-group-class","join-group-class",1187647648).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,join_group_form_name)),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"timeline",new cljs.core.Keyword(null,"timeline-class","timeline-class",-2129897341).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"author","author",2111686192),title], null)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,join_group_form_name,(1)),"join-group-form",join_group_form_input_map,"join group",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-group","join-group",204136547),join_group_form_name,join_group_form_data,join_group_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"child","child",623967545),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var join_group_form_name = ("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_group_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-name-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"group name"], null),new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"brief intro"], null)], null);var join_group_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("group","remark","group/remark",-1116424895),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var join_group_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("group","person","group/person",-952912152),thing_id], null);return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("phone: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"phone","phone",-763596057).cljs$core$IFn$_invoke$arity$1(value_map))),("email: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(value_map)))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("url "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map)))],null))),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"parents",new cljs.core.Keyword(null,"parent-class","parent-class",-956190676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"parent","parent",-878878779))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enrollments",new cljs.core.Keyword(null,"enrollment-class","enrollment-class",914879881).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"enrollment","enrollment",351130082))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assignments",new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"followers",new cljs.core.Keyword(null,"follow-class","follow-class",-980816976).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"follow","follow",-809317662))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"groups",new cljs.core.Keyword(null,"group-class","group-class",749612291).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"group","group",582596132))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"join group",new cljs.core.Keyword(null,"join-group-class","join-group-class",1187647648).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,join_group_form_name)),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"activies",new cljs.core.Keyword(null,"activity-class","activity-class",-905431708).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"activity","activity",-1179221455))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"timeline",new cljs.core.Keyword(null,"timeline-class","timeline-class",-2129897341).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"author","author",2111686192),title], null)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,join_group_form_name,(1)),"join-group-form",join_group_form_input_map,"join group",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-group","join-group",204136547),join_group_form_name,join_group_form_data,join_group_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"course","course",1455432948),(function (app,thing_type,entity,override){var login_user = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"login-user","login-user",1935565562)], null));var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.remove.call(null,cljs.core.nil_QMARK_,cljs.core.map.call(null,((function (login_user,comm,thing_id,actionkeys,value_map){
return (function (p1__11724_SHARP_){return cljs.core.get.call(null,p1__11724_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(login_user,comm,thing_id,actionkeys,value_map))
,(function (){var or__3543__auto__ = cljs.core.get.call(null,entity,new cljs.core.Keyword("course","author","course/author",723035669));if(cljs.core.truth_(or__3543__auto__))
{return or__3543__auto__;
} else
{return cljs.core.get.call(null,entity,new cljs.core.Keyword(null,"author","author",2111686192));
}
})()));var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var content = new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(value_map);var course_type = cljs.core.name.call(null,new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(value_map));var url = new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map);var enroll_form_name = ("#enrollment-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var enroll_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("enrollment","person","enrollment/person",-943602591),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("enroll-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(login_user)], null),new cljs.core.Keyword("enrollment","title","enrollment/title",751119595),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("enroll-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"remarks"], null)], null);var enroll_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("enrollment","person","enrollment/person",-943602591),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,enroll_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("enrollment","person","enrollment/person",-943602591),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("enrollment","title","enrollment/title",751119595),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,enroll_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("enrollment","title","enrollment/title",751119595),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var enroll_form_data = new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("enrollment","course","enrollment/course",1338982880),thing_id,new cljs.core.Keyword("enrollment","person","enrollment/person",-943602591),new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(login_user),new cljs.core.Keyword("enrollment","content","enrollment/content",-108120708),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(login_user))+" enrolls into "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(title)),new cljs.core.Keyword("enrollment","email","enrollment/email",1297283886),new cljs.core.Keyword("person","email","person/email",122143325).cljs$core$IFn$_invoke$arity$1(login_user),new cljs.core.Keyword("enrollment","url","enrollment/url",459757626),("growingtree.com/enrollment/course/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);console.log("course thing value ",cljs.core.pr_str.call(null,thing_id,title,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),((cljs.core.empty_QMARK_.call(null,authors))?null:growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(course_type)+"  Offered by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors))],null)))),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"lectures",new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"lecture","lecture",-1052740831))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add lecture",new cljs.core.Keyword(null,"add-lecture-class","add-lecture-class",-637055810).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,(".add-lecture-form"))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enrollments",new cljs.core.Keyword(null,"enrollment-class","enrollment-class",914879881).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"enrollment","enrollment",351130082))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enroll",new cljs.core.Keyword(null,"enroll-class","enroll-class",558734528).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#enrollment-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"similar courses",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"similar","similar",-1871074735)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,enroll_form_name,(1)),"enrollment-form",enroll_form_input_map,"enroll",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"enrollment","enrollment",351130082),enroll_form_name,enroll_form_data,enroll_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"enrollment","enrollment",351130082),(function (app,thing_type,entity,override){console.log(cljs.core.pr_str.call(null,"thing-entry :enrollment ",entity));
var attendee = new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(entity);if(cljs.core.truth_(attendee))
{return growingtree_app.components.entity_view.thing_entry_enrollment_person.call(null,app,thing_type,entity,override);
} else
{return growingtree_app.components.entity_view.thing_entry_enrollment_course.call(null,app,thing_type,entity,override);
}
}));
growingtree_app.components.entity_view.thing_entry_enrollment_course = (function thing_entry_enrollment_course(app,thing_type,entity,override){var login_user = growingtree_app.utils.get_login_user.call(null,app);var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.remove.call(null,cljs.core.nil_QMARK_,cljs.core.map.call(null,((function (login_user,comm,thing_id,actionkeys,value_map){
return (function (p1__11725_SHARP_){return cljs.core.get.call(null,p1__11725_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(login_user,comm,thing_id,actionkeys,value_map))
,(function (){var or__3543__auto__ = cljs.core.get.call(null,entity,new cljs.core.Keyword("course","author","course/author",723035669));if(cljs.core.truth_(or__3543__auto__))
{return or__3543__auto__;
} else
{return cljs.core.get.call(null,entity,new cljs.core.Keyword(null,"author","author",2111686192));
}
})()));var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var content = new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(value_map);var course_type = cljs.core.name.call(null,new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(value_map));var url = new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map);var progress = cljs.core.first.call(null,new cljs.core.Keyword(null,"progress","progress",244323547).cljs$core$IFn$_invoke$arity$1(value_map));var progressstep_form_name = ("#progressstep-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var progressstep_datalist = cljs.core.map.call(null,new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),new cljs.core.Keyword("progress","steps","progress/steps",805602621).cljs$core$IFn$_invoke$arity$1(progress));var progressstep_form_input_map = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("progressstep-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"list",new cljs.core.Keyword(null,"datalist","datalist",-1235043474),progressstep_datalist], null),new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("progressstep-author-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(login_user)], null),new cljs.core.Keyword("progressstep","status","progressstep/status",-573540770),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("progressstep-status-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"select",new cljs.core.Keyword(null,"select","select",1147833503),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, ["25","50","75","100"], null)], null)], null);var progressstep_form_fields = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,progressstep_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,progressstep_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("progressstep","status","progressstep/status",-573540770),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,progressstep_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("progressstep","status","progressstep/status",-573540770),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var progressstep_form_data = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("progressstep","origin","progressstep/origin",-494936065),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("db","id","db/id",-1388397098),new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(progress),new cljs.core.Keyword("progress","origin","progress/origin",-2113873973),thing_id,new cljs.core.Keyword("progress","author","progress/author",975864835),new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(login_user),new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(login_user),new cljs.core.Keyword("progress","title","progress/title",1637583828),("progression of "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(title))], null),new cljs.core.Keyword("progressstep","start","progressstep/start",-1264592010),growingtree_app.utils.to_epoch.call(null)], null);console.log("course thing value ",cljs.core.pr_str.call(null,thing_id,title,authors,url));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),((cljs.core.empty_QMARK_.call(null,authors))?null:growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(course_type)+"  Offered by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors))],null)))),growingtree_app.components.entity_view.progress_tracker.call(null,progress),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"lectures",new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"lecture","lecture",-1052740831))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add progress",new cljs.core.Keyword(null,"progress-class","progress-class",1107980919).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#progressstep-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"similar courses",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"similar","similar",-1871074735)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,progressstep_form_name,(1)),"progressstep-form",progressstep_form_input_map,"add progress step",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"progressstep","progressstep",2110637409),progressstep_form_name,progressstep_form_data,progressstep_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
});
growingtree_app.components.entity_view.thing_entry_enrollment_person = (function thing_entry_enrollment_person(app,thing_type,entity,override){var login_user = growingtree_app.utils.get_login_user.call(null,app);var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var person_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var person_title = new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(entity);var course = new cljs.core.Keyword("enrollment","course","enrollment/course",1338982880).cljs$core$IFn$_invoke$arity$1(entity);var course_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(course);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var course_value = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,course),growingtree_app.components.entity_view.actionkeys_class.call(null,course_id,actionkeys),override);var title = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(course_value);var content = new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(course_value);var course_type = cljs.core.name.call(null,new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(course_value));var course_author = new cljs.core.Keyword(null,"author","author",2111686192).cljs$core$IFn$_invoke$arity$1(course_value);var url = new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(course_value);var progress = cljs.core.first.call(null,new cljs.core.Keyword("enrollment","progress","enrollment/progress",430748127).cljs$core$IFn$_invoke$arity$1(entity));var progressstep_form_name = ("#progressstep-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(course_id));var progressstep_datalist = cljs.core.map.call(null,new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),new cljs.core.Keyword("progress","steps","progress/steps",805602621).cljs$core$IFn$_invoke$arity$1(progress));var progressstep_form_input_map = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("progressstep-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(course_id)),new cljs.core.Keyword(null,"type","type",1174270348),"list",new cljs.core.Keyword(null,"datalist","datalist",-1235043474),progressstep_datalist], null),new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("progressstep-author-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(course_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(login_user)], null),new cljs.core.Keyword("progressstep","status","progressstep/status",-573540770),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("progressstep-status-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(course_id)),new cljs.core.Keyword(null,"type","type",1174270348),"select",new cljs.core.Keyword(null,"select","select",1147833503),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, ["25","50","75","100"], null)], null)], null);var progressstep_form_fields = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,progressstep_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("progressstep","title","progressstep/title",152872040),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,progressstep_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("progressstep","status","progressstep/status",-573540770),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,progressstep_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("progressstep","status","progressstep/status",-573540770),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var progressstep_form_data = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("progressstep","origin","progressstep/origin",-494936065),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("db","id","db/id",-1388397098),new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(progress),new cljs.core.Keyword("progress","origin","progress/origin",-2113873973),course_id,new cljs.core.Keyword("progress","author","progress/author",975864835),new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(login_user),new cljs.core.Keyword("progressstep","author","progressstep/author",-827741001),new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(login_user),new cljs.core.Keyword("progress","title","progress/title",1637583828),("progression of "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(title))], null),new cljs.core.Keyword("progressstep","start","progressstep/start",-1264592010),growingtree_app.utils.to_epoch.call(null)], null);console.log("course thing value ",cljs.core.pr_str.call(null,course_id,title,course_author,url));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(course_value)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,course_value,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(person_title)+" enrolled in "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(title))],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),(cljs.core.truth_(course_author)?growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(course_type)+"  Offered by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("person","title","person/title",1791817084).cljs$core$IFn$_invoke$arity$1(course_author)))],null))):null),growingtree_app.components.entity_view.progress_tracker.call(null,progress),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"lectures",new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(course_value),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,course,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"lecture","lecture",-1052740831))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(course_value),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,course,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(course_value),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,course,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"similar courses",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(course_value),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,course,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"similar","similar",-1871074735)))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
});
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.remove.call(null,cljs.core.nil_QMARK_,cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11726_SHARP_){return cljs.core.get.call(null,p1__11726_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map))
,(function (){var or__3543__auto__ = cljs.core.get.call(null,entity,new cljs.core.Keyword("lecture","author","lecture/author",1991891378));if(cljs.core.truth_(or__3543__auto__))
{return or__3543__auto__;
} else
{return cljs.core.get.call(null,entity,new cljs.core.Keyword(null,"author","author",2111686192));
}
})()));var title = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(value_map);var content = new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(value_map);var url = new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map);var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",-355208981)));var end = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"end","end",-268185958)));console.log("lecture thing value ",cljs.core.pr_str.call(null,authors,title,content));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),((cljs.core.empty_QMARK_.call(null,authors))?null:growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("Offered by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors))],null)))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(start)+"  -  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(end))],null))),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"course",new cljs.core.Keyword(null,"course-class","course-class",457249659).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"course","course",1455432948))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"questions",new cljs.core.Keyword(null,"question-class","question-class",53123216).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"question","question",-1411720117))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add question",new cljs.core.Keyword(null,"add-question-class","add-question-class",771227253).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,(".add-question-form"))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enrollments",new cljs.core.Keyword(null,"enrollment-class","enrollment-class",914879881).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"enrollment","enrollment",351130082))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"comments","comments",-293346423)))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"question","question",-1411720117),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11727_SHARP_){return cljs.core.get.call(null,p1__11727_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("question","author","question/author",509082058)));var difficulty = cljs.core.get.call(null,entity,new cljs.core.Keyword("question","difficulty","question/difficulty",-779582935));var title = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(value_map);var content = new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(value_map);var url = new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map);var assignto_form_name = ("#assignto-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var assignto_form_input_map = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("assignment","person","assignment/person",92350634),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"person name or group name"], null),new cljs.core.Keyword("assignment","hint","assignment/hint",1421797403),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-hint-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"hint"], null),new cljs.core.Keyword("assignment","priority","assignment/priority",276184328),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-priority-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"priority"], null),new cljs.core.Keyword("assignment","end","assignment/end",821061611),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-end-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"datetime",new cljs.core.Keyword(null,"text","text",-1790561697),"due time"], null)], null);var assignto_form_fields = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("assignment","person","assignment/person",92350634),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","person","assignment/person",92350634),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("assignment","hint","assignment/hint",1421797403),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","hint","assignment/hint",1421797403),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("assignment","priority","assignment/priority",276184328),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","priority","assignment/priority",276184328),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("assignment","end","assignment/end",821061611),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","end","assignment/end",821061611),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var assignto_form_data = new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("assignment","origin","assignment/origin",-115895445),thing_id,new cljs.core.Keyword("assignment","author","assignment/author",-1597944093),"rich-dad",new cljs.core.Keyword("assignment","title","assignment/title",-494614220),("based on question of "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get.call(null,entity,new cljs.core.Keyword("question","title","question/title",2003702293)))),new cljs.core.Keyword("assignment","start","assignment/start",-1476950598),growingtree_app.utils.to_epoch.call(null),new cljs.core.Keyword("assignment","status","assignment/status",-963085054),new cljs.core.Keyword(null,"active","active",1895962068),new cljs.core.Keyword("assignment","type","assignment/type",53180505),cljs.core.get.call(null,entity,new cljs.core.Keyword("question","type","question/type",-2003827326))], null);console.log("question thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("Authored by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors)),("difficulty "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(difficulty))],null))),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"lecture",new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"lecture","lecture",-1052740831))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assignments",new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assign to",new cljs.core.Keyword(null,"assignto-class","assignto-class",-372570226).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#assignto-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"similar questions",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"similar","similar",-1871074735))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"comments","comments",-293346423)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,assignto_form_name,(1)),"assignto-form",assignto_form_input_map,"assign",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"assignment","assignment",1330426519),assignto_form_name,assignto_form_data,assignto_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"assignment","assignment",1330426519),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11728_SHARP_){return cljs.core.get.call(null,p1__11728_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("assignment","author","assignment/author",-1597944093)));var content = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("question","title","question/title",2003702293)], null));var url = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("question","url","question/url",1191018908)], null));var hint = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"hint","hint",439639918));var end = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"end","end",-268185958)));var assignee = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"person","person",-1059806875)], null));var assignee_name = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"person","person",-1059806875),new cljs.core.Keyword("person","title","person/title",1791817084)], null));var assignee_id = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"person","person",-1059806875),new cljs.core.Keyword("db","id","db/id",-1388397098)], null));var answer_form_name = ("#answer-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var answer_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("answer","title","answer/title",-1977217491),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("answer-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"answer"], null),new cljs.core.Keyword("answer","content","answer/content",-592488250),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("answer-content-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"reason"], null)], null);var answer_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("answer","title","answer/title",-1977217491),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,answer_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("answer","title","answer/title",-1977217491),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("answer","content","answer/content",-592488250),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,answer_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("answer","content","answer/content",-592488250),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var answer_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("answer","origin","answer/origin",1769687610),thing_id,new cljs.core.Keyword("answer","author","answer/author",1369441778),"rich-son",new cljs.core.Keyword("answer","start","answer/start",899296937),growingtree_app.utils.to_epoch.call(null)], null);console.log("assignment thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_clickable_titles.call(null,assignee_name,growingtree_app.components.entity_view.filter_things_onclick.call(null,app,assignee,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),(" "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("hint "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(hint)),("due "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(end))],null))),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"question",new cljs.core.Keyword(null,"queston-class","queston-class",1243711395).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"question","question",-1411720117))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"answers",new cljs.core.Keyword(null,"answer-class","answer-class",258862023).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"answer","answer",-742633163))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"submit answer",new cljs.core.Keyword(null,"submit-answer-class","submit-answer-class",433649610).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#answer-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"related assignments",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"similar","similar",-1871074735))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"comments","comments",-293346423)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,answer_form_name,(1)),"answer-form",answer_form_input_map,"answer",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"answer","answer",-742633163),answer_form_name,answer_form_data,answer_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"answer","answer",-742633163),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11729_SHARP_){return cljs.core.get.call(null,p1__11729_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("answer","author","answer/author",1369441778)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"title","title",636505583)], null));var content = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"content","content",15833224));var origin_content = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("assignment","content","assignment/content",1070469557)], null));var score = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"score","score",-1963588780));var url = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("assignment","url","assignment/url",-710447997)], null));var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",-355208981)));var grade_form_name = ("#grade-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var grade_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("grade","score","grade/score",-1994964133),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("grade-score-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"100"], null),new cljs.core.Keyword("grade","comments","grade/comments",-60546190),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("grade-comments-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"comments"], null)], null);var grade_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("grade","score","grade/score",-1994964133),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,grade_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("grade","score","grade/score",-1994964133),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("grade","comments","grade/comments",-60546190),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,grade_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("grade","comments","grade/comments",-60546190),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var grade_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("grade","origin","grade/origin",1073007201),thing_id,new cljs.core.Keyword("grade","author","grade/author",1937671641),"rich-dad",new cljs.core.Keyword("grade","start","grade/start",-810372908),growingtree_app.utils.to_epoch.call(null)], null);console.log("answer thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(origin_content))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("submitted at : "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(start))],null))),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[score],null))),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assignment",new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"grade",new cljs.core.Keyword(null,"grade-class","grade-class",-337722261).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#grade-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"similar answers",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"similar","similar",-1871074735))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"comments","comments",-293346423)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,grade_form_name,(1)),"grade-form",grade_form_input_map,"grade",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"grade","grade",2117054771),grade_form_name,grade_form_data,grade_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"comments","comments",-293346423),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11730_SHARP_){return cljs.core.get.call(null,p1__11730_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("comments","author","comments/author",-2114607172)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var thingroot = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"thingroot","thingroot",810637554));var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var tm = growingtree_app.utils.time_to_string.call(null,(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670)) / (1000)));var ago = growingtree_app.utils.moment_from.call(null,moment(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670))),moment());var offset = ((cljs.core.count.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"navpath","navpath",2039253492))) - (2)) / (2));var reply_form_name = ("#reply-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var reply_form_input_map = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("comments","title","comments/title",1507373019),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("reply-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"comments"], null)], null);var reply_form_fields = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("comments","title","comments/title",1507373019),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,reply_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("comments","title","comments/title",1507373019),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var reply_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("comments","origin","comments/origin",-1708397436),thing_id,new cljs.core.Keyword("comments","thingroot","comments/thingroot",-1667664154),thingroot,new cljs.core.Keyword("comments","author","comments/author",-2114607172),"rich-son"], null);console.log("comments thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map))),new cljs.core.Keyword(null,"class","class",-2030961996),("comment"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(offset))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("submitted "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(ago)+" ago at "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(tm))],null))),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"tips",new cljs.core.Keyword(null,"tips-class","tips-class",-724001999).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"reply",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#reply-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,reply_form_name,(1)),"reply-form",reply_form_input_map,"reply",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"comments","comments",-293346423),reply_form_name,reply_form_data,reply_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"group","group",582596132),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map,title){
return (function (p1__11731_SHARP_){return cljs.core.get.call(null,p1__11731_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map,title))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("group","author","group/author",1937686705)));var join_group_form_name = ("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_group_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","person","group/person",-952912152),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"name"], null),new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"remark"], null)], null);var join_group_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","person","group/person",-952912152),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","person","group/person",-952912152),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("group","remark","group/remark",-1116424895),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var join_group_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("group","title","group/title",735008878),title], null);var add_activity_form_name = ("#add-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var add_activity_form_input_map = new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("activity","title","activity/title",-2103141186),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"activity name"], null),new cljs.core.Keyword("activity","author","activity/author",1092727585),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-author-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"activity author"], null),new cljs.core.Keyword("activity","content","activity/content",1613596023),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-content-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"activity content"], null),new cljs.core.Keyword("activity","location","activity/location",134464555),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-location-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"activity address"], null),new cljs.core.Keyword("activity","start","activity/start",1209528828),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-start-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"datetime",new cljs.core.Keyword(null,"text","text",-1790561697),"start time"], null),new cljs.core.Keyword("activity","url","activity/url",902023237),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-url-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"activity url"], null)], null);var add_activity_form_fields = new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("activity","title","activity/title",-2103141186),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,add_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","title","activity/title",-2103141186),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("activity","author","activity/author",1092727585),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,add_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","author","activity/author",1092727585),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("activity","content","activity/content",1613596023),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,add_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","content","activity/content",1613596023),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("activity","location","activity/location",134464555),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,add_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","location","activity/location",134464555),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("activity","start","activity/start",1209528828),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,add_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","start","activity/start",1209528828),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("activity","url","activity/url",902023237),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,add_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","url","activity/url",902023237),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var add_activity_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("activity","origin","activity/origin",-654841943),thing_id], null);console.log("groups thing entry ",cljs.core.pr_str.call(null,thing_id,title,authors));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("created by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors))],null))),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"group members",new cljs.core.Keyword(null,"group-members-class","group-members-class",-506825319).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"group-members","group-members",-729516321))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"join-group",new cljs.core.Keyword(null,"groups-class","groups-class",822099871).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"activities",new cljs.core.Keyword(null,"activity-class","activity-class",-905431708).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"activity","activity",-1179221455))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add-activity",new cljs.core.Keyword(null,"add-activity-class","add-activity-class",-418285874).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#add-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,join_group_form_name,(1)),"join-group-form",join_group_form_input_map,"join group",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-group","join-group",204136547),join_group_form_name,join_group_form_data,join_group_form_fields)),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,add_activity_form_name,(1)),"add-activity-form",add_activity_form_input_map,"add activity",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"add-activity","add-activity",-1339549691),add_activity_form_name,add_activity_form_data,add_activity_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"group-members","group-members",-729516321),(function (app,thing_type,entity,override){var person_type = new cljs.core.Keyword("person","type","person/type",-1703713807).cljs$core$IFn$_invoke$arity$1(entity);return growingtree_app.components.entity_view.thing_entry.call(null,app,person_type,entity,override);
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"activity","activity",-1179221455),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11732_SHARP_){return cljs.core.get.call(null,p1__11732_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("activity","author","activity/author",1092727585)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var content = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"content","content",15833224));var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",-355208981)));var location = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"location","location",1815599388));var url = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"url","url",276297046));var join_activity_form_name = ("#join-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_activity_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("activity","person","activity/person",1705030776),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"name"], null),new cljs.core.Keyword("activity","remark","activity/remark",635549905),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"remark"], null)], null);var join_activity_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("activity","person","activity/person",1705030776),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","person","activity/person",1705030776),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("activity","remark","activity/remark",635549905),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_activity_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("activity","remark","activity/remark",635549905),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var join_activity_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("activity","title","activity/title",-2103141186),title], null);console.log("thing-entry ",cljs.core.pr_str.call(null,thing_id,title,url));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,3,(5),cljs.core.PersistentVector.EMPTY_NODE,[(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(start)+"  at  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(location)),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"participants",new cljs.core.Keyword(null,"activity-members-class","activity-members-class",1907153605).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"activity-members","activity-members",-1601359803))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"join activity",new cljs.core.Keyword(null,"activity-class","activity-class",-905431708).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#join-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"group",new cljs.core.Keyword(null,"group-class","group-class",749612291).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"group","group",582596132)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,join_activity_form_name,(1)),"join-activity-form",join_activity_form_input_map,"join activity",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-activity","join-activity",1683531460),join_activity_form_name,join_activity_form_data,join_activity_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"timeline","timeline",192903161),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11733_SHARP_){return cljs.core.get.call(null,p1__11733_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("timeline","author","timeline/author",-103378321)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var thing_type__$1 = cljs.core.keyword.call(null,new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(value_map));var thingroot = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"thingroot","thingroot",810637554));var title = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(value_map))+"/title"))], null));var tm = growingtree_app.utils.time_to_string.call(null,(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670)) / (1000)));var ago = growingtree_app.utils.moment_from.call(null,moment(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670))),moment());var offset = ((cljs.core.count.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"navpath","navpath",2039253492))) - (2)) / (2));console.log("timeline thing value ",cljs.core.pr_str.call(null,cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type__$1)+"/title"))),cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map))),new cljs.core.Keyword(null,"class","class",-2030961996),("timeline"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(offset))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type__$1,value_map,growingtree_app.components.entity_view.upvote_onclick.call(null,app,entity)),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("submitted "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(ago)+" at "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(tm))],null))),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"timeline",new cljs.core.Keyword(null,"timeline-class","timeline-class",-2129897341).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"timeline","timeline",192903161))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"tips",new cljs.core.Keyword(null,"tips-class","tips-class",-724001999).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"timeline","timeline",192903161)))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"like","like",-914050076),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var origin = cljs.core.get.call(null,entity,new cljs.core.Keyword("like","origin","like/origin",1042455329));var origin_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(origin);var origin_type = growingtree_app.utils.thing_ident.call(null,origin);var actionkeys = origin_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value_strip_type.call(null,origin),growingtree_app.components.entity_view.actionkeys_class.call(null,origin_id,actionkeys),override);var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));console.log("like thing value ",cljs.core.pr_str.call(null,origin_type,title,value_map));
return growingtree_app.components.entity_view.thing_entry.call(null,app,origin_type,origin,override);
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"search","search",1564939822),(function (app,thing_type,entity,override){var thing_type__$1 = cljs.core.keyword.call(null,new cljs.core.Keyword("search","type","search/type",-1745335484).cljs$core$IFn$_invoke$arity$1(entity));var origin_entity = new cljs.core.Keyword("search","origin","search/origin",-2083818416).cljs$core$IFn$_invoke$arity$1(entity);console.log(cljs.core.pr_str.call(null,"search thing ",entity));
return growingtree_app.components.entity_view.thing_entry.call(null,app,thing_type__$1,origin_entity,override);
}));

//# sourceMappingURL=entity_view.js.map