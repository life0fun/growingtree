// Compiled by ClojureScript 0.0-2277
goog.provide('growingtree_app.components.entity_view');
goog.require('cljs.core');
goog.require('growingtree_app.utils');
goog.require('cljs.core.async');
goog.require('goog.crypt');
goog.require('goog.i18n.NumberFormat.Format');
goog.require('sablono.core');
goog.require('goog.net.EventType');
goog.require('goog.i18n.NumberFormat.Format');
goog.require('cljs.core.async');
goog.require('dommy.core');
goog.require('goog.events');
goog.require('goog.Uri');
goog.require('growingtree_app.ui');
goog.require('cljs.core.async');
goog.require('growingtree_app.mock_data');
goog.require('sablono.core');
goog.require('goog.net.EventType');
goog.require('goog.crypt');
goog.require('growingtree_app.utils');
goog.require('clojure.string');
goog.require('om.core');
goog.require('dommy.core');
goog.require('growingtree_app.mock_data');
goog.require('om.core');
goog.require('growingtree_app.ui');
goog.require('growingtree_app.utils');
goog.require('clojure.string');
goog.require('goog.crypt.Md5');
goog.require('cljs.reader');
goog.require('goog.events');
goog.require('cljs.reader');
growingtree_app.components.entity_view.thing_nav_actionkey = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161)],[cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"add-question","add-question",1475121863),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],[""," hide","","","","","","",""]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"join-group","join-group",204136547),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"add-activity","add-activity",-1339549691),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"upvote","upvote",1296279834),new cljs.core.Keyword(null,"group-members","group-members",-729516321)],["",""," hide","","","","","","",""]),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"origin","origin",1037372088),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"follow","follow",-809317662),new cljs.core.Keyword(null,"join-group","join-group",204136547),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"add-child","add-child",1455054133),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],[""," hide","","","",""," hide","","","",""]),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"author","author",2111686192),"",new cljs.core.Keyword(null,"reply","reply",1144328671),"",new cljs.core.Keyword(null,"reply-form","reply-form",-418292520),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"like","like",-914050076),"",new cljs.core.Keyword(null,"share","share",-589433933),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"assignto","assignto",1746847181),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"similar","similar",-1871074735),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],["","","","","","","","",""]),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),"",new cljs.core.Keyword(null,"participants","participants",673603367),"",new cljs.core.Keyword(null,"join","join",-758861890),"",new cljs.core.Keyword(null,"comments","comments",-293346423),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"like","like",-914050076),"",new cljs.core.Keyword(null,"share","share",-589433933),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"enrollment","enrollment",351130082),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"add-lecture","add-lecture",-70422632),new cljs.core.Keyword(null,"upvote","upvote",1296279834),new cljs.core.Keyword(null,"enroll","enroll",-1480177252)],["","","","","","",""," hide","",""]),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),"",new cljs.core.Keyword(null,"grade","grade",2117054771),"",new cljs.core.Keyword(null,"assignment","assignment",1330426519),"",new cljs.core.Keyword(null,"comments","comments",-293346423),"",new cljs.core.Keyword(null,"upvote","upvote",1296279834),"",new cljs.core.Keyword(null,"like","like",-914050076),"",new cljs.core.Keyword(null,"share","share",-589433933),""], null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"hint","hint",439639918),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"author","author",2111686192),new cljs.core.Keyword(null,"similar","similar",-1871074735),new cljs.core.Keyword(null,"submit-answer","submit-answer",-723832653),new cljs.core.Keyword(null,"share","share",-589433933),new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"upvote","upvote",1296279834)],["","","","","","","","","","",""]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"enrollment","enrollment",351130082),new cljs.core.Keyword(null,"follow","follow",-809317662),new cljs.core.Keyword(null,"join-group","join-group",204136547),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"schoolclass","schoolclass",-2118001962),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"add-parent","add-parent",-490259497),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"upvote","upvote",1296279834),new cljs.core.Keyword(null,"add-schoolclass","add-schoolclass",1133447967)],["",""," hide","","","","","","",""," hide","",""," hide"]),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"origin","origin",1037372088),"",new cljs.core.Keyword(null,"details","details",1956795411),"",new cljs.core.Keyword(null,"title","title",636505583),"",new cljs.core.Keyword(null,"author","author",2111686192),""], null)]);
growingtree_app.components.entity_view.thing_thumbnail = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"enrollment","enrollment",351130082),new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"like","like",-914050076),new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161)],["lecture.jpg","enrollment.png","group.jpg","like.jpg","parent.jpg","comments.jpg","question.jpg","group.jpg","course.jpg","answer.jpg","homework.jpg","child.jpg","timeline.jpg"]);
growingtree_app.components.entity_view.thing_attr_val = (function thing_attr_val(thing_map,thing_type,attr){if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"parent","parent",-878878779),thing_type))
{return cljs.core.keyword.call(null,("person/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(attr))).call(null,thing_map);
} else
{if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"child","child",623967545),thing_type))
{return cljs.core.keyword.call(null,("person/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(attr))).call(null,thing_map);
} else
{if(new cljs.core.Keyword(null,"else","else",-1508377146))
{return cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,thing_type))+"/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(attr))).call(null,thing_map);
} else
{return null;
}
}
}
});
/**
* ret the class selector for thing nav sublink transkey
*/
growingtree_app.components.entity_view.actionkey_class = (function actionkey_class(thing_id,link_key,hide){var k = cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,link_key))+"-class"));var clz = (''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.name.call(null,link_key))+"-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)+" "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(hide));return cljs.core.PersistentHashMap.fromArrays.call(null,[k],[clz]);
});
growingtree_app.components.entity_view.actionkeys_class = (function actionkeys_class(thing_id,actionkeys){return cljs.core.reduce.call(null,(function (tot,p__11547){var vec__11548 = p__11547;var attr_key = cljs.core.nth.call(null,vec__11548,(0),null);var hide = cljs.core.nth.call(null,vec__11548,(1),null);return cljs.core.merge.call(null,tot,growingtree_app.components.entity_view.actionkey_class.call(null,thing_id,attr_key,hide));
}),cljs.core.PersistentArrayMap.EMPTY,actionkeys);
});
/**
* ret thing value map from datomic entity by striping out attr's namespace
*/
growingtree_app.components.entity_view.thing_value = (function thing_value(entity){var id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var thing_data = cljs.core.dissoc.call(null,entity,new cljs.core.Keyword("db","id","db/id",-1388397098));var attrs = cljs.core.keys.call(null,thing_data);var value_map = cljs.core.reduce.call(null,((function (id,thing_data,attrs){
return (function (tot,p__11551){var vec__11552 = p__11551;var k = cljs.core.nth.call(null,vec__11552,(0),null);var v = cljs.core.nth.call(null,vec__11552,(1),null);return cljs.core.assoc.call(null,tot,cljs.core.keyword.call(null,cljs.core.name.call(null,k)),((growingtree_app.utils.many_QMARK_.call(null,v))?clojure.string.join.call(null,", ",v):v));
});})(id,thing_data,attrs))
,cljs.core.PersistentArrayMap.EMPTY,thing_data);return cljs.core.assoc.call(null,value_map,new cljs.core.Keyword(null,"id","id",-1388402092),id);
});
growingtree_app.components.entity_view.filter_things_onclick = (function() {
var filter_things_onclick = null;
var filter_things_onclick__4 = (function (app,entity,parent_type,filtered_type){return filter_things_onclick.call(null,app,entity,parent_type,filtered_type,cljs.core.PersistentArrayMap.EMPTY);
});
var filter_things_onclick__5 = (function (app,entity,parent_type,filtered_type,options){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var parent_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);return ((function (comm,parent_id){
return (function (_){growingtree_app.ui.hide_all_forms.call(null,parent_id);
om.core.update_BANG_.call(null,app,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"top","top",-1856271961)], null),entity);
return cljs.core.async.put_BANG_.call(null,comm,growingtree_app.mock_data.get_filter_things_msg.call(null,parent_type,parent_id,filtered_type,options));
});
;})(comm,parent_id))
});
filter_things_onclick = function(app,entity,parent_type,filtered_type,options){
switch(arguments.length){
case 4:
return filter_things_onclick__4.call(this,app,entity,parent_type,filtered_type);
case 5:
return filter_things_onclick__5.call(this,app,entity,parent_type,filtered_type,options);
}
throw(new Error('Invalid arity: ' + arguments.length));
};
filter_things_onclick.cljs$core$IFn$_invoke$arity$4 = filter_things_onclick__4;
filter_things_onclick.cljs$core$IFn$_invoke$arity$5 = filter_things_onclick__5;
return filter_things_onclick;
})()
;
growingtree_app.components.entity_view.submit_form_fn = (function submit_form_fn(app,add_thing_type,form_name,base_data,fields){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));return ((function (comm){
return (function (_){var $form = document.querySelector(dommy.core.selector.call(null,cljs.core.keyword.call(null,form_name)));var data = cljs.core.reduce.call(null,((function ($form,comm){
return (function (tot,p__11555){var vec__11556 = p__11555;var attr = cljs.core.nth.call(null,vec__11556,(0),null);var fieldid = cljs.core.nth.call(null,vec__11556,(1),null);return cljs.core.assoc.call(null,tot,attr,dommy.core.value.call(null,document.querySelector(dommy.core.selector.call(null,fieldid))));
});})($form,comm))
,cljs.core.PersistentArrayMap.EMPTY,fields);var form_data = growingtree_app.utils.set_time.call(null,growingtree_app.utils.set_time.call(null,cljs.core.merge.call(null,base_data,data),new cljs.core.Keyword(null,"assignment","assignment",1330426519),"end"),new cljs.core.Keyword(null,"activity","activity",-1179221455),"start");dommy.core.toggle_class_BANG_.call(null,$form,"hide");
console.log(cljs.core.pr_str.call(null,form_name," data ",form_data));
return cljs.core.async.put_BANG_.call(null,comm,growingtree_app.mock_data.get_add_thing_msg.call(null,add_thing_type,form_data));
});
;})(comm))
});
growingtree_app.components.entity_view.thing_entry = (function (){var method_table__4409__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var prefer_table__4410__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var method_cache__4411__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var cached_hierarchy__4412__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var hierarchy__4413__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));return (new cljs.core.MultiFn("thing-entry",((function (method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__){
return (function (app,thing_type,entity,override){return thing_type;
});})(method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__,hierarchy__4413__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4413__auto__,method_table__4409__auto__,prefer_table__4410__auto__,method_cache__4411__auto__,cached_hierarchy__4412__auto__));
})();
growingtree_app.components.entity_view.thing_entry_thumbnail = (function thing_entry_thumbnail(thing_type,value_map){return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null)),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),"1"], null));
});
growingtree_app.components.entity_view.thing_entry_titles = (function thing_entry_titles(titles){var iter__4268__auto__ = (function iter__11561(s__11562){return (new cljs.core.LazySeq(null,(function (){var s__11562__$1 = s__11562;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11562__$1);if(temp__4126__auto__)
{var s__11562__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11562__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11562__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11564 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11563 = (0);while(true){
if((i__11563 < size__4267__auto__))
{var t = cljs.core._nth.call(null,c__4266__auto__,i__11563);cljs.core.chunk_append.call(null,b__11564,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),t], null)], null));
{
var G__11565 = (i__11563 + (1));
i__11563 = G__11565;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11564),iter__11561.call(null,cljs.core.chunk_rest.call(null,s__11562__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11564),null);
}
} else
{var t = cljs.core.first.call(null,s__11562__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),t], null)], null),iter__11561.call(null,cljs.core.rest.call(null,s__11562__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,titles);
});
growingtree_app.components.entity_view.thing_entry_subtitles = (function thing_entry_subtitles(subtitles){var iter__4268__auto__ = (function iter__11570(s__11571){return (new cljs.core.LazySeq(null,(function (){var s__11571__$1 = s__11571;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11571__$1);if(temp__4126__auto__)
{var s__11571__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11571__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11571__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11573 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11572 = (0);while(true){
if((i__11572 < size__4267__auto__))
{var subt = cljs.core._nth.call(null,c__4266__auto__,i__11572);cljs.core.chunk_append.call(null,b__11573,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),subt], null)], null));
{
var G__11574 = (i__11572 + (1));
i__11572 = G__11574;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11573),iter__11570.call(null,cljs.core.chunk_rest.call(null,s__11571__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11573),null);
}
} else
{var subt = cljs.core.first.call(null,s__11571__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),subt], null)], null),iter__11570.call(null,cljs.core.rest.call(null,s__11571__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,subtitles);
});
growingtree_app.components.entity_view.thing_entry_taglines = (function thing_entry_taglines(taglines){var iter__4268__auto__ = (function iter__11579(s__11580){return (new cljs.core.LazySeq(null,(function (){var s__11580__$1 = s__11580;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11580__$1);if(temp__4126__auto__)
{var s__11580__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11580__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11580__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11582 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11581 = (0);while(true){
if((i__11581 < size__4267__auto__))
{var tagl = cljs.core._nth.call(null,c__4266__auto__,i__11581);cljs.core.chunk_append.call(null,b__11582,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),tagl], null));
{
var G__11583 = (i__11581 + (1));
i__11581 = G__11583;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11582),iter__11579.call(null,cljs.core.chunk_rest.call(null,s__11580__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11582),null);
}
} else
{var tagl = cljs.core.first.call(null,s__11580__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),tagl], null),iter__11579.call(null,cljs.core.rest.call(null,s__11580__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,taglines);
});
growingtree_app.components.entity_view.thing_entry_action_button_li = (function thing_entry_action_button_li(text,classname,on_click_fn){return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),classname], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),on_click_fn], null),text], null)], null)], null)], null));
});
growingtree_app.components.entity_view.thing_entry_child_form = (function thing_entry_child_form(form_id,form_class,input_map,submit_text,submit_fn){return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),form_id], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form","form",-1624062471),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),form_class,new cljs.core.Keyword(null,"style","style",-496642736),{"float": "left;"}], null),(function (){var iter__4268__auto__ = (function iter__11592(s__11593){return (new cljs.core.LazySeq(null,(function (){var s__11593__$1 = s__11593;while(true){
var temp__4126__auto__ = cljs.core.seq.call(null,s__11593__$1);if(temp__4126__auto__)
{var s__11593__$2 = temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__11593__$2))
{var c__4266__auto__ = cljs.core.chunk_first.call(null,s__11593__$2);var size__4267__auto__ = cljs.core.count.call(null,c__4266__auto__);var b__11595 = cljs.core.chunk_buffer.call(null,size__4267__auto__);if((function (){var i__11594 = (0);while(true){
if((i__11594 < size__4267__auto__))
{var vec__11598 = cljs.core._nth.call(null,c__4266__auto__,i__11594);var fk = cljs.core.nth.call(null,vec__11598,(0),null);var fmap = cljs.core.nth.call(null,vec__11598,(1),null);cljs.core.chunk_append.call(null,b__11595,((cljs.core._EQ_.call(null,"datetime",new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(fmap)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.datetime-picker.input-append","div.datetime-picker.input-append",-113828227),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"data-format","data-format",-1707052133),"hh:mm:ss MM/dd/yyyy",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(fmap)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.add-on","span.add-on",-1168406876),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),("javascript:NewCal('"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(fmap))+"','mmddyyyy', 'true');")], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-time-icon","data-time-icon",1661910671),"icon-time",new cljs.core.Keyword(null,"data-data-icon","data-data-icon",-2020633199),"icon-calendar"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",-1651076051),"cal.gif",new cljs.core.Keyword(null,"width","width",-384071477),"16",new cljs.core.Keyword(null,"height","height",1025178622),"16"], null)], null)], null)], null)], null):new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(fmap)], null)], null)));
{
var G__11600 = (i__11594 + (1));
i__11594 = G__11600;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11595),iter__11592.call(null,cljs.core.chunk_rest.call(null,s__11593__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__11595),null);
}
} else
{var vec__11599 = cljs.core.first.call(null,s__11593__$2);var fk = cljs.core.nth.call(null,vec__11599,(0),null);var fmap = cljs.core.nth.call(null,vec__11599,(1),null);return cljs.core.cons.call(null,((cljs.core._EQ_.call(null,"datetime",new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(fmap)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.datetime-picker.input-append","div.datetime-picker.input-append",-113828227),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"data-format","data-format",-1707052133),"hh:mm:ss MM/dd/yyyy",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(fmap)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.add-on","span.add-on",-1168406876),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),("javascript:NewCal('"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(fmap))+"','mmddyyyy', 'true');")], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-time-icon","data-time-icon",1661910671),"icon-time",new cljs.core.Keyword(null,"data-data-icon","data-data-icon",-2020633199),"icon-calendar"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",-1651076051),"cal.gif",new cljs.core.Keyword(null,"width","width",-384071477),"16",new cljs.core.Keyword(null,"height","height",1025178622),"16"], null)], null)], null)], null)], null):new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(fmap),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),new cljs.core.Keyword(null,"text","text",-1790561697).cljs$core$IFn$_invoke$arity$1(fmap)], null)], null)),iter__11592.call(null,cljs.core.rest.call(null,s__11593__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4268__auto__.call(null,input_map);
})(),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.inline-form-btn","button.btn.btn-primary.inline-form-btn",-238701495),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"id","id",-1388402092),"submit",new cljs.core.Keyword(null,"on-click","on-click",1632826543),submit_fn], null),submit_text], null)], null)], null);
});
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"default","default",-1987822328),(function (app,thing_type,entity,override){var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys));return console.log(("thing-entry :default "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(value_map)));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"person","person",-1059806875),(function (app,thing_type,entity,override){var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var thing_type__$1 = new cljs.core.Keyword("person","type","person/type",-1703713807).cljs$core$IFn$_invoke$arity$1(entity);return growingtree_app.components.entity_view.thing_entry.call(null,app,thing_type__$1,entity,override);
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"parent","parent",-878878779),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(value_map);var join_group_form_name = ("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_group_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-name-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"group name"], null),new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"brief intro"], null)], null);var join_group_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("group","remark","group/remark",-1116424895),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var join_group_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("group","person","group/person",-952912152),thing_id], null);return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("phone: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"phone","phone",-763596057).cljs$core$IFn$_invoke$arity$1(value_map))),("email: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(value_map)))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("Joined since "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"time","time",1385887882),"Aug 2013"], null)))],null))),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"children",new cljs.core.Keyword(null,"child-class","child-class",216780503).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"child","child",623967545))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add child",new cljs.core.Keyword(null,"add-child-class","add-child-class",2128213288).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,(".add-child-form"))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assignments",new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"followers",new cljs.core.Keyword(null,"follow-class","follow-class",-980816976).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"follow","follow",-809317662))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"groups",new cljs.core.Keyword(null,"group-class","group-class",749612291).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"group","group",582596132))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"join group",new cljs.core.Keyword(null,"join-group-class","join-group-class",1187647648).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,join_group_form_name)),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"timeline",new cljs.core.Keyword(null,"timeline-class","timeline-class",-2129897341).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"author","author",2111686192),title], null)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,join_group_form_name,(1)),"join-group-form",join_group_form_input_map,"join group",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-group","join-group",204136547),join_group_form_name,join_group_form_data,join_group_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"child","child",623967545),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var join_group_form_name = ("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_group_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-name-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"group name"], null),new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"brief intro"], null)], null);var join_group_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","title","group/title",735008878),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","title","group/title",735008878),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("group","remark","group/remark",-1116424895),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,join_group_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("group","remark","group/remark",-1116424895),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var join_group_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("group","person","group/person",-952912152),thing_id], null);return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("phone: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"phone","phone",-763596057).cljs$core$IFn$_invoke$arity$1(value_map))),("email: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(value_map)))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[("Joined since "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"time","time",1385887882),"Aug 2013"], null)))],null))),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"parents",new cljs.core.Keyword(null,"parent-class","parent-class",-956190676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"parent","parent",-878878779))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enrollments",new cljs.core.Keyword(null,"enrollment-class","enrollment-class",914879881).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"enrollment","enrollment",351130082))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assignments",new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"followers",new cljs.core.Keyword(null,"follow-class","follow-class",-980816976).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"follow","follow",-809317662))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"groups",new cljs.core.Keyword(null,"group-class","group-class",749612291).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"group","group",582596132))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"join group",new cljs.core.Keyword(null,"join-group-class","join-group-class",1187647648).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,join_group_form_name)),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"activies",new cljs.core.Keyword(null,"activity-class","activity-class",-905431708).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"activity","activity",-1179221455))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"timeline",new cljs.core.Keyword(null,"timeline-class","timeline-class",-2129897341).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"author","author",2111686192),title], null)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,join_group_form_name,(1)),"join-group-form",join_group_form_input_map,"join group",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-group","join-group",204136547),join_group_form_name,join_group_form_data,join_group_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"course","course",1455432948),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11601_SHARP_){return cljs.core.get.call(null,p1__11601_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("course","author","course/author",723035669)));var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var enroll_form_name = ("#enrollment-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var enroll_form_input_map = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("enrollment","person","enrollment/person",-943602591),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("enroll-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"attendee"], null),new cljs.core.Keyword("enrollment","title","enrollment/title",751119595),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("enroll-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"remarks"], null)], null);var enroll_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("enrollment","person","enrollment/person",-943602591),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,enroll_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("enrollment","person","enrollment/person",-943602591),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("enrollment","title","enrollment/title",751119595),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,enroll_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("enrollment","title","enrollment/title",751119595),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var enroll_form_data = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("enrollment","course","enrollment/course",1338982880),thing_id,new cljs.core.Keyword("enrollment","content","enrollment/content",-108120708),("enroll into "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(title)),new cljs.core.Keyword("enrollment","email","enrollment/email",1297283886),("rich-son@rich.com"),new cljs.core.Keyword("enrollment","url","enrollment/url",459757626),("growingtree.com/enrollment/course/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);console.log("course thing value ",cljs.core.pr_str.call(null,thing_id,title,authors));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(value_map))),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map)))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[(" "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.type)),("Offered by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors))],null))),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"lectures",new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"lecture","lecture",-1052740831))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add lecture",new cljs.core.Keyword(null,"add-lecture-class","add-lecture-class",-637055810).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,(".add-lecture-form"))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enrollments",new cljs.core.Keyword(null,"enrollment-class","enrollment-class",914879881).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"enrollment","enrollment",351130082))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enroll",new cljs.core.Keyword(null,"enroll-class","enroll-class",558734528).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#enrollment-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"comments","comments",-293346423))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"similar courses",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"course","course",1455432948),new cljs.core.Keyword(null,"similar","similar",-1871074735)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,enroll_form_name,(1)),"enrollment-form",enroll_form_input_map,"enroll",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"enrollment","enrollment",351130082),enroll_form_name,enroll_form_data,enroll_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11602_SHARP_){return cljs.core.get.call(null,p1__11602_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("lecture","author","lecture/author",1991891378)));var title = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(value_map);var content = new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(value_map);var url = new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map);var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",-355208981)));var end = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"end","end",-268185958)));console.log("lecture thing value ",cljs.core.pr_str.call(null,authors,title,content));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("Offered by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors)),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(start)+"  -  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(end))],null))),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"course",new cljs.core.Keyword(null,"course-class","course-class",457249659).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"course","course",1455432948))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"questions",new cljs.core.Keyword(null,"question-class","question-class",53123216).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"question","question",-1411720117))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"add question",new cljs.core.Keyword(null,"add-question-class","add-question-class",771227253).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,(".add-question-form"))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"enrollments",new cljs.core.Keyword(null,"enrollment-class","enrollment-class",914879881).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"enrollment","enrollment",351130082))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"likes",new cljs.core.Keyword(null,"like-class","like-class",-1020346896).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"like","like",-914050076))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"lecture","lecture",-1052740831),new cljs.core.Keyword(null,"comments","comments",-293346423)))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"question","question",-1411720117),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11603_SHARP_){return cljs.core.get.call(null,p1__11603_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("question","author","question/author",509082058)));var difficulty = cljs.core.get.call(null,entity,new cljs.core.Keyword("question","difficulty","question/difficulty",-779582935));var title = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(value_map);var content = new cljs.core.Keyword(null,"content","content",15833224).cljs$core$IFn$_invoke$arity$1(value_map);var url = new cljs.core.Keyword(null,"url","url",276297046).cljs$core$IFn$_invoke$arity$1(value_map);var assignto_form_name = ("#assignto-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var assignto_form_input_map = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("assignment","person","assignment/person",92350634),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"person name or group name"], null),new cljs.core.Keyword("assignment","hint","assignment/hint",1421797403),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-hint-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"hint"], null),new cljs.core.Keyword("assignment","priority","assignment/priority",276184328),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-priority-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"text","text",-1790561697),"priority"], null),new cljs.core.Keyword("assignment","end","assignment/end",821061611),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("assignto-end-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"datetime",new cljs.core.Keyword(null,"text","text",-1790561697),"due time"], null)], null);var assignto_form_fields = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("assignment","person","assignment/person",92350634),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","person","assignment/person",92350634),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("assignment","hint","assignment/hint",1421797403),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","hint","assignment/hint",1421797403),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("assignment","priority","assignment/priority",276184328),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","priority","assignment/priority",276184328),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))),new cljs.core.Keyword("assignment","end","assignment/end",821061611),("#"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,assignto_form_input_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("assignment","end","assignment/end",821061611),new cljs.core.Keyword(null,"id","id",-1388402092)], null))))], null);var assignto_form_data = new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("assignment","origin","assignment/origin",-115895445),thing_id,new cljs.core.Keyword("assignment","author","assignment/author",-1597944093),"rich-dad",new cljs.core.Keyword("assignment","title","assignment/title",-494614220),("based on question of "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get.call(null,entity,new cljs.core.Keyword("question","title","question/title",2003702293)))),new cljs.core.Keyword("assignment","start","assignment/start",-1476950598),growingtree_app.utils.to_epoch.call(null),new cljs.core.Keyword("assignment","status","assignment/status",-963085054),new cljs.core.Keyword(null,"active","active",1895962068),new cljs.core.Keyword("assignment","type","assignment/type",53180505),cljs.core.get.call(null,entity,new cljs.core.Keyword("question","type","question/type",-2003827326))], null);console.log("question thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),growingtree_app.components.entity_view.thing_entry_thumbnail.call(null,thing_type,value_map),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),growingtree_app.components.entity_view.thing_entry_titles.call(null,(new cljs.core.PersistentVector(null,1,(5),cljs.core.PersistentVector.EMPTY_NODE,[title],null))),growingtree_app.components.entity_view.thing_entry_subtitles.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content)),("  "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))],null))),growingtree_app.components.entity_view.thing_entry_taglines.call(null,(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[("Authored by "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(authors)),("difficulty "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(difficulty))],null))),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"lecture",new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"lecture","lecture",-1052740831))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assignments",new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"assignment","assignment",1330426519))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"assign to",new cljs.core.Keyword(null,"assignto-class","assignto-class",-372570226).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.ui.toggle_hide_fn.call(null,("#assignto-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"similar questions",new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"similar","similar",-1871074735))),growingtree_app.components.entity_view.thing_entry_action_button_li.call(null,"comments",new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"question","question",-1411720117),new cljs.core.Keyword(null,"comments","comments",-293346423)))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),growingtree_app.components.entity_view.thing_entry_child_form.call(null,cljs.core.subs.call(null,assignto_form_name,(1)),"assignto-form",assignto_form_input_map,"assign",growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"assignment","assignment",1330426519),assignto_form_name,assignto_form_data,assignto_form_fields))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"assignment","assignment",1330426519),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map){
return (function (p1__11604_SHARP_){return cljs.core.get.call(null,p1__11604_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("assignment","author","assignment/author",-1597944093)));var content = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("question","content","question/content",-847823714)], null));var url = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("question","url","question/url",1191018908)], null));var hint = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"hint","hint",439639918));var end = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"end","end",-268185958)));var assignee = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"person","person",-1059806875)], null));var assignee_name = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"person","person",-1059806875),new cljs.core.Keyword("person","title","person/title",1791817084)], null));var assignee_id = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"person","person",-1059806875),new cljs.core.Keyword("db","id","db/id",-1388397098)], null));var answer_form_name = ("#answer-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var answer_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("answer","title","answer/title",-1977217491),("#answer-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("answer","content","answer/content",-592488250),("#answer-content-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);var answer_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("answer","origin","answer/origin",1769687610),thing_id,new cljs.core.Keyword("answer","author","answer/author",1369441778),"rich-son",new cljs.core.Keyword("answer","start","answer/start",899296937),growingtree_app.utils.to_epoch.call(null)], null);console.log("assignment thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),"to   ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,assignee,new cljs.core.Keyword(null,"child","child",623967545),new cljs.core.Keyword(null,"assignment","assignment",1330426519))], null),("   "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(assignee_name))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),("content: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),("url: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(url))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),"hint :",hint], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),"due  :",end], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"question","question",-1411720117))], null),"question"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"assignment-class","assignment-class",1372666556).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"answer","answer",-742633163))], null),"answers"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"similar","similar",-1871074735))], null),"related assignments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"answer-class","answer-class",258862023).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.ui.toggle_hide_fn.call(null,("#answer-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))], null),"answer"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"assignment","assignment",1330426519),new cljs.core.Keyword(null,"comments","comments",-293346423))], null),"comments"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("answer-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.answer-form","form.answer-form",-219439705),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("answer-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"answer"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("answer-content-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"explain"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",1456579943),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),"submit",new cljs.core.Keyword(null,"value","value",305978217),"submit",new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"answer","answer",-742633163),answer_form_name,answer_form_data,answer_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"answer","answer",-742633163),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11605_SHARP_){return cljs.core.get.call(null,p1__11605_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("answer","author","answer/author",1369441778)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"title","title",636505583)], null));var content = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"content","content",15833224));var origin_content = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("assignment","content","assignment/content",1070469557)], null));var score = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"score","score",-1963588780));var url = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),new cljs.core.Keyword("assignment","url","assignment/url",-710447997)], null));var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",-355208981)));var grade_form_name = ("#grade-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var grade_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("grade","score","grade/score",-1994964133),("#grade-score-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("grade","comments","grade/comments",-60546190),("#grade-comments-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);var grade_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("grade","origin","grade/origin",1073007201),thing_id,new cljs.core.Keyword("grade","author","grade/author",1937671641),"rich-dad",new cljs.core.Keyword("grade","start","grade/start",-810372908),growingtree_app.utils.to_epoch.call(null)], null);console.log("answer thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),("content: "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(content))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.subtitle","p.subtitle",1220832976),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tagline","span.tagline",1749438364),("assignment : "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(origin_content))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),"submitted at :",start], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),("Score : "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(score))], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"assignment","assignment",1330426519))], null),"assignment"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"answer-class","answer-class",258862023).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.ui.toggle_hide_fn.call(null,("#grade-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))], null),"grade"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"similar-class","similar-class",259220676).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"similar","similar",-1871074735))], null),"similar answers"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"answer","answer",-742633163),new cljs.core.Keyword(null,"comments","comments",-293346423))], null),"comments"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("grade-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.grade-form","form.grade-form",-867719670),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("grade-score-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"grade"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("grade-comments-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"comments"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),"submit",new cljs.core.Keyword(null,"value","value",305978217),"submit",new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"grade","grade",2117054771),grade_form_name,grade_form_data,grade_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"comments","comments",-293346423),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11606_SHARP_){return cljs.core.get.call(null,p1__11606_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("comments","author","comments/author",-2114607172)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var thingroot = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"thingroot","thingroot",810637554));var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var tm = growingtree_app.utils.time_to_string.call(null,(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670)) / (1000)));var ago = growingtree_app.utils.moment_from.call(null,moment(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670))),moment());var offset = ((cljs.core.count.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"navpath","navpath",2039253492))) - (2)) / (2));var reply_form_name = ("#reply-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var reply_form_fields = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("comments","title","comments/title",1507373019),("#reply-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);var reply_form_data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("comments","origin","comments/origin",-1708397436),thing_id,new cljs.core.Keyword("comments","thingroot","comments/thingroot",-1667664154),thingroot,new cljs.core.Keyword("comments","author","comments/author",-2114607172),"rich-son"], null);console.log("comments thing value ",cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map))),new cljs.core.Keyword(null,"class","class",-2030961996),("comment"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(offset))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),"submitted ",ago," ago at ",tm], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"comments","comments",-293346423))], null),"comments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"comments","comments",-293346423),new cljs.core.Keyword(null,"comments","comments",-293346423))], null),"tips"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.ui.toggle_hide_fn.call(null,("#reply-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))], null),"reply"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("reply-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.reply-form","form.reply-form",47010633),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea","textarea",-650375824),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),("reply-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"comments",new cljs.core.Keyword(null,"style","style",-496642736),{"height": "100px", "width": "90%", "display": "block"}], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),"submit",new cljs.core.Keyword(null,"value","value",305978217),"submit",new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"comments","comments",-293346423),reply_form_name,reply_form_data,reply_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"group","group",582596132),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var authors = cljs.core.map.call(null,((function (comm,thing_id,actionkeys,value_map,title){
return (function (p1__11607_SHARP_){return cljs.core.get.call(null,p1__11607_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id,actionkeys,value_map,title))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("group","author","group/author",1937686705)));var join_group_form_name = ("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_group_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("group","person","group/person",-952912152),("#group-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("group","remark","group/remark",-1116424895),("#group-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);var join_group_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("group","title","group/title",735008878),title], null);var add_activity_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("group","title","group/title",735008878),title], null);var add_activity_form_name = ("#add-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var add_activity_form_fields = new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("activity","title","activity/title",-2103141186),("#activity-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("activity","author","activity/author",1092727585),("#activity-author-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("activity","content","activity/content",1613596023),("#activity-content-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("activity","location","activity/location",134464555),("#activity-location-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("activity","start","activity/start",1209528828),("#activity-start-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("activity","url","activity/url",902023237),("#activity-url-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);var add_activity_form_data__$1 = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("activity","origin","activity/origin",-654841943),thing_id], null);var activity_start_id = ("activity-start-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var activity_start_js = ("javascript:NewCal('"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(activity_start_id)+"', 'mmddyyyy', 'true');");console.log("groups thing entry ",cljs.core.pr_str.call(null,thing_id,title,authors));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),"created by ",authors], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"group-members-class","group-members-class",-506825319).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"groups","groups",-136896102),new cljs.core.Keyword(null,"group-members","group-members",-729516321))], null),"group-members"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"groups","groups",-136896102),new cljs.core.Keyword(null,"comments","comments",-293346423))], null),"comments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"groups-class","groups-class",822099871).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.ui.toggle_hide_fn.call(null,("#join-group-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))], null),"join-group"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"activity-class","activity-class",-905431708).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"group","group",582596132),new cljs.core.Keyword(null,"activity","activity",-1179221455))], null),"activities"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"add-activity-class","add-activity-class",-418285874).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.ui.toggle_hide_fn.call(null,("#add-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))], null),"add-activity"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.subs.call(null,join_group_form_name,(1))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.join-group-form.input-form","form.join-group-form.input-form",-1986899441),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"name"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("group-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"remark"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),"submit",new cljs.core.Keyword(null,"value","value",305978217),"join-group",new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-primary assign-button pull-right",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-group","join-group",204136547),join_group_form_name,join_group_form_data,join_group_form_fields)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.subs.call(null,add_activity_form_name,(1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.add-activity-form.input-form","form.add-activity-form.input-form",-533976148),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-title-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"activity name"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-author-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"activity author"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-content-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"activity content"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-location-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"activity address"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-url-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"activity url"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#activity-start-picker.input-append","div#activity-start-picker.input-append",1309595153),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),activity_start_id,new cljs.core.Keyword(null,"type","type",1174270348),"datetime",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"start time",new cljs.core.Keyword(null,"data-format","data-format",-1707052133),"hh:mm:ss MM/dd/yyyy"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.add-on","span.add-on",-1168406876),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),activity_start_js], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i","i",-1386841315),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-time-icon","data-time-icon",1661910671),"icon-time",new cljs.core.Keyword(null,"data-data-icon","data-data-icon",-2020633199),"icon-calendar"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",-1651076051),"cal.gif",new cljs.core.Keyword(null,"width","width",-384071477),"16",new cljs.core.Keyword(null,"height","height",1025178622),"16"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),"submit",new cljs.core.Keyword(null,"value","value",305978217),"add-activity",new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-primary assign-button pull-right",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"activity","activity",-1179221455),add_activity_form_name,add_activity_form_data__$1,add_activity_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"activity","activity",-1179221455),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11608_SHARP_){return cljs.core.get.call(null,p1__11608_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("activity","author","activity/author",1092727585)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var title = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"title","title",636505583));var content = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"content","content",15833224));var start = growingtree_app.utils.time_to_string.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"start","start",-355208981)));var location = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"location","location",1815599388));var url = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"url","url",276297046));var join_activity_form_name = ("#join-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id));var join_activity_form_fields = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("activity","person","activity/person",1705030776),("#activity-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword("activity","remark","activity/remark",635549905),("#activity-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null);var join_activity_form_data = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("activity","title","activity/title",-2103141186),title], null);console.log("thing-entry ",cljs.core.pr_str.call(null,thing_id,title,url));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map)))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),content], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),start,"   at   ",location], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),"url ",url], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"activity-members-class","activity-members-class",1907153605).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"activity-members","activity-members",-1601359803))], null),"participants"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"comments-class","comments-class",591165571).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"comments","comments",-293346423))], null),"comments"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"activity-class","activity-class",-905431708).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.ui.toggle_hide_fn.call(null,("#join-activity-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)))], null),"join-activity"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"activity-class","activity-class",-905431708).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"activity","activity",-1179221455),new cljs.core.Keyword(null,"group","group",582596132))], null),"group"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.child-form","div.child-form",712536529),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),("child-form-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.hide","div.hide",-1550821907),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.subs.call(null,join_activity_form_name,(1))], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form.join-activity-form","form.join-activity-form",-1830711228),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),{"float": "left;"}], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-person-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"name"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),("activity-remark-"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_id)),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"remark"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),"submit",new cljs.core.Keyword(null,"value","value",305978217),"join-activity",new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-primary assign-button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.submit_form_fn.call(null,app,new cljs.core.Keyword(null,"join-activity","join-activity",1683531460),join_activity_form_name,join_activity_form_data,join_activity_form_fields)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));
cljs.core._add_method.call(null,growingtree_app.components.entity_view.thing_entry,new cljs.core.Keyword(null,"timeline","timeline",192903161),(function (app,thing_type,entity,override){var comm = cljs.core.get_in.call(null,app,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"comms","comms",460172477),new cljs.core.Keyword(null,"controls","controls",1340701452)], null));var thing_id = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(entity);var authors = cljs.core.map.call(null,((function (comm,thing_id){
return (function (p1__11609_SHARP_){return cljs.core.get.call(null,p1__11609_SHARP_,new cljs.core.Keyword("person","title","person/title",1791817084));
});})(comm,thing_id))
,cljs.core.get.call(null,entity,new cljs.core.Keyword("timeline","author","timeline/author",-103378321)));var actionkeys = thing_type.call(null,growingtree_app.components.entity_view.thing_nav_actionkey);var value_map = cljs.core.merge.call(null,growingtree_app.components.entity_view.thing_value.call(null,entity),growingtree_app.components.entity_view.actionkeys_class.call(null,thing_id,actionkeys),override);var thing_type__$1 = cljs.core.keyword.call(null,new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(value_map));var thingroot = cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"thingroot","thingroot",810637554));var title = cljs.core.get_in.call(null,value_map,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"origin","origin",1037372088),cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(value_map))+"/title"))], null));var tm = growingtree_app.utils.time_to_string.call(null,(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670)) / (1000)));var ago = growingtree_app.utils.moment_from.call(null,moment(cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"txtime","txtime",-461982670))),moment());var offset = ((cljs.core.count.call(null,cljs.core.get.call(null,value_map,new cljs.core.Keyword(null,"navpath","navpath",2039253492))) - (2)) / (2));console.log("timeline thing value ",cljs.core.pr_str.call(null,cljs.core.keyword.call(null,(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type__$1)+"/title"))),cljs.core.pr_str.call(null,value_map));
return cljs.core._conj.call(null,cljs.core.List.EMPTY,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.thing.link","div.thing.link",2111350795),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),(''+cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(value_map))),new cljs.core.Keyword(null,"class","class",-2030961996),("timeline"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(offset))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.rank","span.rank",-707565900),"1"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.midcol.unvoted","div.midcol.unvoted",1655252706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.up","div.arrow.up",1771102576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"upvote"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.score.unvoted","div.score.unvoted",1562045262),new cljs.core.Keyword(null,"upvote","upvote",1296279834).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.arrow.down","div.arrow.down",300218571),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"button",new cljs.core.Keyword(null,"arial-label","arial-label",1699831775),"downvote"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.thumbnail","a.thumbnail",-341788995),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"70",new cljs.core.Keyword(null,"height","height",1025178622),"70",new cljs.core.Keyword(null,"src","src",-1651076051),("/"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(thing_type__$1.call(null,growingtree_app.components.entity_view.thing_thumbnail)))], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.entry.unvoted","div.entry.unvoted",-1130664872),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.title","p.title",-1265013094),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.title","a.title",828429783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),"#"], null),title], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.tagline","p.tagline",882959379),"submitted ",ago," ago at ",tm], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.flat-list.buttons","ul.flat-list.buttons",889117839),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"timeline-class","timeline-class",-2129897341).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"timeline","timeline",192903161))], null),"timeline"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.share","li.share",-1604222259),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"lecture-class","lecture-class",-1385767548).cljs$core$IFn$_invoke$arity$1(value_map)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.toggle","span.toggle",-1337359117),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.option.active","a.option.active",-7117666),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"on-click","on-click",1632826543),growingtree_app.components.entity_view.filter_things_onclick.call(null,app,entity,new cljs.core.Keyword(null,"timeline","timeline",192903161),new cljs.core.Keyword(null,"timeline","timeline",192903161))], null),"tips"], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearleft","div.clearleft",892598980)], null)], null)], null));
}));

//# sourceMappingURL=entity_view.js.map